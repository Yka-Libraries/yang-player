/**
 * yang-player - a html5 video player by Sam Yang (https://yangkean.com)
 * @version v2.0.0
 * @link https://github.com/yangkean/YangPlayer/
 * @license see https://github.com/yangkean/YangPlayer/blob/2.0.0/LICENSE
 */
"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t,r){function n(t){if(e.event&&e.event.contentOverflow!==r)return{x:e.event.offsetX,y:e.event.offsetY};if(t.offsetX!==r&&t.offsetY!==r)return{x:t.offsetX,y:t.offsetY};var n=t.target.parentNode.parentNode;return{x:t.layerX-n.offsetLeft,y:t.layerY-n.offsetTop}}function o(e,r,n){e=t.createElementNS(g,e);for(var o in r)e.setAttribute(o,r[o]);"[object Array]"!=Object.prototype.toString.call(n)&&(n=[n]);for(var i=0,a=n[0]&&n.length||0;i<a;i++)e.appendChild(n[i]);return e}function i(e){var t,r,n,o,i,a=e.h%360/60;i=e.v*e.s,o=i*(1-Math.abs(a%2-1)),t=r=n=e.v-i,a=~~a,t+=[i,o,0,0,o,i][a],r+=[o,i,i,o,0,0][a],n+=[0,0,o,i,i,o][a];var s=Math.floor(255*t),l=Math.floor(255*r),u=Math.floor(255*n);return{r:s,g:l,b:u,hex:"#"+(16777216|u|l<<8|s<<16).toString(16).slice(1)}}function a(e){var t=e.r,r=e.g,n=e.b;(e.r>1||e.g>1||e.b>1)&&(t/=255,r/=255,n/=255);var o,i,a,s;return a=Math.max(t,r,n),s=a-Math.min(t,r,n),o=0==s?null:a==t?(r-n)/s+(r<n?6:0):a==r?(n-t)/s+2:(t-r)/s+4,o=o%6*60,i=0==s?0:s/a,{h:o,s:i,v:a}}function s(t,o,a){return function(s){s=s||e.event;var l=n(s);t.h=l.y/o.offsetHeight*360+v,t.s=t.v=1;var u=i({h:t.h,s:1,v:1});a.style.backgroundColor=u.hex,t.callback&&t.callback(u.hex,{h:t.h-v,s:t.s,v:t.v},{r:u.r,g:u.g,b:u.b},r,l)}}function l(t,r){return function(o){o=o||e.event;var a=n(o),s=r.offsetWidth,l=r.offsetHeight;t.s=a.x/s,t.v=(l-a.y)/l;var u=i(t);t.callback&&t.callback(u.hex,{h:t.h-v,s:t.s,v:t.v},{r:u.r,g:u.g,b:u.b},a)}}function u(e,t,r){if(!(this instanceof u))return new u(e,t,r);if(this.h=0,this.s=1,this.v=1,r)this.callback=r,this.pickerElement=t,this.slideElement=e;else{var n=e;n.innerHTML=b,this.slideElement=n.getElementsByClassName("slide")[0],this.pickerElement=n.getElementsByClassName("picker")[0];var o=n.getElementsByClassName("slide-indicator")[0],i=n.getElementsByClassName("picker-indicator")[0];u.fixIndicators(o,i),this.callback=function(e,r,n,a,s){u.positionIndicators(o,i,s,a),t(e,r,n)}}if("SVG"==d){var a=y.cloneNode(!0),p=h.cloneNode(!0),v=a.getElementsByTagName("defs")[0].firstChild,g=a.getElementsByTagName("rect")[0];v.id="gradient-hsv-"+m,g.setAttribute("fill","url(#"+v.id+")");var w=[p.getElementsByTagName("defs")[0].children[0],p.getElementsByTagName("defs")[0].children[1]],S=p.getElementsByTagName("rect");w[0].id="gradient-black-"+m,w[1].id="gradient-white-"+m,S[0].setAttribute("fill","url(#"+w[1].id+")"),S[1].setAttribute("fill","url(#"+w[0].id+")"),this.slideElement.appendChild(a),this.pickerElement.appendChild(p),m++}else this.slideElement.innerHTML=y,this.pickerElement.innerHTML=h;c(this.slideElement,"click",s(this,this.slideElement,this.pickerElement)),c(this.pickerElement,"click",l(this,this.pickerElement)),f(this,this.slideElement,s(this,this.slideElement,this.pickerElement)),f(this,this.pickerElement,l(this,this.pickerElement))}function c(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener&&e.addEventListener(t,r,!1)}function f(e,t,r){var n=!1;c(t,"mousedown",function(e){n=!0}),c(t,"mouseup",function(e){n=!1}),c(t,"mouseout",function(e){n=!1}),c(t,"mousemove",function(e){n&&r(e)})}function p(e,t,r,n){e.h=t.h%360,e.s=t.s,e.v=t.v;var o=i(e),a={y:e.h*e.slideElement.offsetHeight/360,x:0},s=e.pickerElement.offsetHeight,l={x:e.s*e.pickerElement.offsetWidth,y:s-e.v*s};return e.pickerElement.style.backgroundColor=i({h:e.h,s:1,v:1}).hex,e.callback&&e.callback(n||o.hex,{h:e.h,s:e.s,v:e.v},r||{r:o.r,g:o.g,b:o.b},l,a),e}var h,y,d=e.SVGAngle||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",v=15,g="http://www.w3.org/2000/svg",b=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");"SVG"==d?(y=o("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[o("defs",{},o("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[o("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),o("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),o("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),o("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),o("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),o("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),o("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),o("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),o("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),o("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),h=o("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[o("defs",{},[o("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[o("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),o("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),o("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[o("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),o("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),o("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),o("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==d&&(y=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),h=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),t.namespaces.v||t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var m=0;u.hsv2rgb=function(e){var t=i(e);return delete t.hex,t},u.hsv2hex=function(e){return i(e).hex},u.rgb2hsv=a,u.rgb2hex=function(e){return i(a(e)).hex},u.hex2hsv=function(e){return a(u.hex2rgb(e))},u.hex2rgb=function(e){return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)}},u.prototype.setHsv=function(e){return p(this,e)},u.prototype.setRgb=function(e){return p(this,a(e),e)},u.prototype.setHex=function(e){return p(this,u.hex2hsv(e),r,e)},u.positionIndicators=function(e,t,r,n){r&&(t.style.left="auto",t.style.right="0px",t.style.top="0px",e.style.top=r.y-e.offsetHeight/2+"px"),n&&(t.style.top=n.y-t.offsetHeight/2+"px",t.style.left=n.x-t.offsetWidth/2+"px")},u.fixIndicators=function(e,t){t.style.pointerEvents="none",e.style.pointerEvents="none"},e.ColorPicker=u}(window,window.document),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){var e,t=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),n=Array.isArray,o=Object.keys,i=function(e){return function(){return!t(e,this,arguments)}},a=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},l=i(a),u=function(){return!a(function(){Object.defineProperty({},"x",{get:function(){}})})},c=!!Object.defineProperty&&u(),f="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),h=Function.call.bind(Array.prototype.reduce),y=Function.call.bind(Array.prototype.filter),d=Function.call.bind(Array.prototype.some),v=function(e,t,r,n){!n&&t in e||(c?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r}):e[t]=r)},g=function(e,t,r){p(o(t),function(n){var o=t[n];v(e,n,o,!!r)})},b=Function.call.bind(Object.prototype.toString),m="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===b(e)}:function(e){return"function"==typeof e},w={getter:function(e,t,r){if(!c)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:r})},proxy:function(e,t,r){if(!c)throw new TypeError("getters require true ES5 support");var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return e[t]},set:function(r){e[t]=r}})},redefine:function(e,t,r){if(c){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r,Object.defineProperty(e,t,n)}else e[t]=r},defineByDescriptor:function(e,t,r){c?Object.defineProperty(e,t,r):"value"in r&&(e[t]=r.value)},preserveToString:function(e,t){t&&m(t.toString)&&v(e,"toString",t.toString.bind(t),!0)}},S=Object.create||function(e,t){var r=function(){};r.prototype=e;var n=new r;return"undefined"!=typeof t&&o(t).forEach(function(e){w.defineByDescriptor(n,e,t[e])}),n},C=function(e,t){return!!Object.setPrototypeOf&&s(function(){var r=function t(r){var n=new e(r);return Object.setPrototypeOf(n,t.prototype),n};return Object.setPrototypeOf(r,e),r.prototype=S(e.prototype,{constructor:{value:r}}),t(r)})},O=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},P=O(),k=P.isFinite,B=Function.call.bind(String.prototype.indexOf),j=Function.apply.bind(Array.prototype.indexOf),I=Function.call.bind(Array.prototype.concat),T=Function.call.bind(String.prototype.slice),E=Function.call.bind(Array.prototype.push),x=Function.apply.bind(Array.prototype.push),M=Function.call.bind(Array.prototype.shift),_=Math.max,N=Math.min,Y=Math.floor,R=Math.abs,A=Math.exp,F=Math.log,D=Math.sqrt,L=Function.call.bind(Object.prototype.hasOwnProperty),V=function(){},W=P.Map,H=W&&W.prototype.delete,z=W&&W.prototype.get,q=W&&W.prototype.has,G=W&&W.prototype.set,X=P.Symbol||{},U=X.species||"@@species",$=Number.isNaN||function(e){return e!==e},J=Number.isFinite||function(e){return"number"==typeof e&&k(e)},Z=m(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:$(t)?t:t<0?-1:1},K=function(e){return"[object Arguments]"===b(e)},Q=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==b(e)&&"[object Function]"===b(e.callee)},ee=K(arguments)?K:Q,te={primitive:function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},string:function(e){return"[object String]"===b(e)},regex:function(e){return"[object RegExp]"===b(e)},symbol:function(e){return"function"==typeof P.Symbol&&"symbol"==typeof e}},re=function(e,t,r){var n=e[t];v(e,t,r,!0),w.preserveToString(e[t],n)},ne="function"==typeof X&&"function"==typeof X.for&&te.symbol(X()),oe=te.symbol(X.iterator)?X.iterator:"_es6-shim iterator_";P.Set&&"function"==typeof(new P.Set)["@@iterator"]&&(oe="@@iterator"),P.Reflect||v(P,"Reflect",{},!0);var ie=P.Reflect,ae=String,se="undefined"!=typeof document&&document?document.all:null,le=null==se?function(e){return null==e}:function(e){return null==e&&e!==se},ue={Call:function(e,r){var n=arguments.length>2?arguments[2]:[];if(!ue.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,r,n)},RequireObjectCoercible:function(e,t){if(le(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return void 0!==e&&null!==e&&e!==!0&&e!==!1&&("function"==typeof e||"object"==typeof e||e===se)},ToObject:function(e,t){return Object(ue.RequireObjectCoercible(e,t))},IsCallable:m,IsConstructor:function(e){return ue.IsCallable(e)},ToInt32:function(e){return ue.ToNumber(e)>>0},ToUint32:function(e){return ue.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===b(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ue.ToNumber(e);return $(t)?0:0!==t&&J(t)?(t>0?1:-1)*Y(R(t)):t},ToLength:function(e){var t=ue.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e===1/t:$(e)&&$(t)},SameValueZero:function(e,t){return e===t||$(e)&&$(t)},IsIterable:function(e){return ue.TypeIsObject(e)&&("undefined"!=typeof e[oe]||ee(e))},GetIterator:function(t){if(ee(t))return new e(t,"value");var r=ue.GetMethod(t,oe);if(!ue.IsCallable(r))throw new TypeError("value is not an iterable");var n=ue.Call(r,t);if(!ue.TypeIsObject(n))throw new TypeError("bad iterator");return n},GetMethod:function(e,t){var r=ue.ToObject(e)[t];if(!le(r)){if(!ue.IsCallable(r))throw new TypeError("Method not callable: "+t);return r}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ue.GetMethod(e,"return");if(void 0!==r){var n,o;try{n=ue.Call(r,e)}catch(e){o=e}if(!t){if(o)throw o;if(!ue.TypeIsObject(n))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ue.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ue.IteratorNext(e),r=ue.IteratorComplete(t);return!r&&t},Construct:function(e,t,r,n){var o="undefined"==typeof r?e:r;if(!n&&ie.construct)return ie.construct(e,t,o);var i=o.prototype;ue.TypeIsObject(i)||(i=Object.prototype);var a=S(i),s=ue.Call(e,a,t);return ue.TypeIsObject(s)?s:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(void 0===r)return t;if(!ue.TypeIsObject(r))throw new TypeError("Bad constructor");var n=r[U];if(le(n))return t;if(!ue.IsConstructor(n))throw new TypeError("Bad @@species");return n},CreateHTML:function(e,t,r,n){var o=ue.ToString(e),i="<"+t;if(""!==r){var a=ue.ToString(n),s=a.replace(/"/g,"&quot;");i+=" "+r+'="'+s+'"'}var l=i+">",u=l+o;return u+"</"+t+">"},IsRegExp:function(e){if(!ue.TypeIsObject(e))return!1;var t=e[X.match];return"undefined"!=typeof t?!!t:te.regex(e)},ToString:function(e){return ae(e)}};if(c&&ne){var ce=function(e){if(te.symbol(X[e]))return X[e];var t=X.for("Symbol."+e);return Object.defineProperty(X,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!te.symbol(X.search)){var fe=ce("search"),pe=String.prototype.search;v(RegExp.prototype,fe,function(e){return ue.Call(pe,e,[this])});var he=function(e){var t=ue.RequireObjectCoercible(this);if(!le(e)){var r=ue.GetMethod(e,fe);if("undefined"!=typeof r)return ue.Call(r,e,[t])}return ue.Call(pe,t,[ue.ToString(e)])};re(String.prototype,"search",he)}if(!te.symbol(X.replace)){var ye=ce("replace"),de=String.prototype.replace;v(RegExp.prototype,ye,function(e,t){return ue.Call(de,e,[this,t])});var ve=function(e,t){var r=ue.RequireObjectCoercible(this);if(!le(e)){var n=ue.GetMethod(e,ye);if("undefined"!=typeof n)return ue.Call(n,e,[r,t])}return ue.Call(de,r,[ue.ToString(e),t])};re(String.prototype,"replace",ve)}if(!te.symbol(X.split)){var ge=ce("split"),be=String.prototype.split;v(RegExp.prototype,ge,function(e,t){return ue.Call(be,e,[this,t])});var me=function(e,t){var r=ue.RequireObjectCoercible(this);if(!le(e)){var n=ue.GetMethod(e,ge);if("undefined"!=typeof n)return ue.Call(n,e,[r,t])}return ue.Call(be,r,[ue.ToString(e),t])};re(String.prototype,"split",me)}var we=te.symbol(X.match),Se=we&&function(){var e={};return e[X.match]=function(){return 42},42!=="a".match(e)}();if(!we||Se){var Ce=ce("match"),Oe=String.prototype.match;v(RegExp.prototype,Ce,function(e){return ue.Call(Oe,e,[this])});var Pe=function(e){var t=ue.RequireObjectCoercible(this);if(!le(e)){var r=ue.GetMethod(e,Ce);if("undefined"!=typeof r)return ue.Call(r,e,[t])}return ue.Call(Oe,t,[ue.ToString(e)])};re(String.prototype,"match",Pe)}}var ke=function(e,t,r){w.preserveToString(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),c?p(Object.getOwnPropertyNames(e),function(n){n in V||r[n]||w.proxy(e,n,t)}):p(Object.keys(e),function(n){n in V||r[n]||(t[n]=e[n])}),t.prototype=e.prototype,w.redefine(e.prototype,"constructor",t)},Be=function(){return this},je=function(e){c&&!L(e,U)&&w.getter(e,U,Be)},Ie=function(e,t){var r=t||function(){return this};v(e,oe,r),!e[oe]&&te.symbol(oe)&&(e[oe]=r)},Te=function(e,t,r){c?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r},Ee=function(e,t,r){if(Te(e,t,r),!ue.SameValue(e[t],r))throw new TypeError("property is nonconfigurable")},xe=function(e,t,r,n){if(!ue.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var o=t.prototype;ue.TypeIsObject(o)||(o=r);var i=S(o);for(var a in n)if(L(n,a)){var s=n[a];v(i,a,s,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Me=String.fromCodePoint;re(String,"fromCodePoint",function(e){return ue.Call(Me,this,arguments)})}var _e={fromCodePoint:function(e){for(var t,r=[],n=0,o=arguments.length;n<o;n++){if(t=Number(arguments[n]),!ue.SameValue(t,ue.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?E(r,String.fromCharCode(t)):(t-=65536,E(r,String.fromCharCode((t>>10)+55296)),E(r,String.fromCharCode(t%1024+56320)))}return r.join("")},raw:function(e){var t=ue.ToObject(e,"bad callSite"),r=ue.ToObject(t.raw,"bad raw value"),n=r.length,o=ue.ToLength(n);if(o<=0)return"";for(var i,a,s,l,u=[],c=0;c<o&&(i=ue.ToString(c),s=ue.ToString(r[i]),E(u,s),!(c+1>=o));)a=c+1<arguments.length?arguments[c+1]:"",l=ue.ToString(a),E(u,l),c+=1;return u.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&re(String,"raw",_e.raw),g(String,_e);var Ne=function e(t,r){if(r<1)return"";if(r%2)return e(t,r-1)+t;var n=e(t,r/2);return n+n},Ye=1/0,Re={repeat:function(e){var t=ue.ToString(ue.RequireObjectCoercible(this)),r=ue.ToInteger(e);if(r<0||r>=Ye)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ne(t,r)},startsWith:function(e){var t=ue.ToString(ue.RequireObjectCoercible(this));if(ue.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var r,n=ue.ToString(e);arguments.length>1&&(r=arguments[1]);var o=_(ue.ToInteger(r),0);return T(t,o,o+n.length)===n},endsWith:function(e){var t=ue.ToString(ue.RequireObjectCoercible(this));if(ue.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var r,n=ue.ToString(e),o=t.length;arguments.length>1&&(r=arguments[1]);var i="undefined"==typeof r?o:ue.ToInteger(r),a=N(_(i,0),o);return T(t,a-n.length,a)===n},includes:function(e){if(ue.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,r=ue.ToString(e);return arguments.length>1&&(t=arguments[1]),B(this,r,t)!==-1},codePointAt:function(e){var t=ue.ToString(ue.RequireObjectCoercible(this)),r=ue.ToInteger(e),n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r),i=r+1===n;if(o<55296||o>56319||i)return o;var a=t.charCodeAt(r+1);return a<56320||a>57343?o:1024*(o-55296)+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",1/0)!==!1&&re(String.prototype,"includes",Re.includes),String.prototype.startsWith&&String.prototype.endsWith){var Ae=a(function(){"/a/".startsWith(/a/)}),Fe=s(function(){return"abc".startsWith("a",1/0)===!1});Ae&&Fe||(re(String.prototype,"startsWith",Re.startsWith),re(String.prototype,"endsWith",Re.endsWith))}if(ne){var De=s(function(){var e=/a/;return e[X.match]=!1,"/a/".startsWith(e)});De||re(String.prototype,"startsWith",Re.startsWith);var Le=s(function(){var e=/a/;return e[X.match]=!1,"/a/".endsWith(e)});Le||re(String.prototype,"endsWith",Re.endsWith);var Ve=s(function(){var e=/a/;return e[X.match]=!1,"/a/".includes(e)});Ve||re(String.prototype,"includes",Re.includes)}g(String.prototype,Re);var We=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),He=new RegExp("(^["+We+"]+)|(["+We+"]+$)","g"),ze=function(){return ue.ToString(ue.RequireObjectCoercible(this)).replace(He,"")},qe=["","​","￾"].join(""),Ge=new RegExp("["+qe+"]","g"),Xe=/^[-+]0x[0-9a-f]+$/i,Ue=qe.trim().length!==qe.length;v(String.prototype,"trim",ze,Ue);var $e=function(e){return{value:e,done:0===arguments.length}},Je=function(e){ue.RequireObjectCoercible(e),this._s=ue.ToString(e),this._i=0};Je.prototype.next=function(){var e=this._s,t=this._i;if("undefined"==typeof e||t>=e.length)return this._s=void 0,$e();var r,n,o=e.charCodeAt(t);return o<55296||o>56319||t+1===e.length?n=1:(r=e.charCodeAt(t+1),n=r<56320||r>57343?1:2),this._i=t+n,$e(e.substr(t,n))},Ie(Je.prototype),Ie(String.prototype,function(){return new Je(this)});var Ze={from:function(e){var t,n=this;arguments.length>1&&(t=arguments[1]);var o,i;if("undefined"==typeof t)o=!1;else{if(!ue.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2]),o=!0}var a,s,l,u="undefined"!=typeof(ee(e)||ue.GetMethod(e,oe));if(u){s=ue.IsConstructor(n)?Object(new n):[];var c,f,p=ue.GetIterator(e);for(l=0;;){if(c=ue.IteratorStep(p),c===!1)break;f=c.value;try{o&&(f="undefined"==typeof i?t(f,l):r(t,i,f,l)),s[l]=f}catch(e){throw ue.IteratorClose(p,!0),e}l+=1}a=l}else{var h=ue.ToObject(e);a=ue.ToLength(h.length),s=ue.IsConstructor(n)?Object(new n(a)):new Array(a);var y;for(l=0;l<a;++l)y=h[l],o&&(y="undefined"==typeof i?t(y,l):r(t,i,y,l)),Ee(s,l,y)}return s.length=a,s},of:function(){for(var e=arguments.length,t=this,r=n(t)||!ue.IsCallable(t)?new Array(e):ue.Construct(t,[e]),o=0;o<e;++o)Ee(r,o,arguments[o]);return r.length=e,r}};g(Array,Ze),je(Array),e=function(e,t){this.i=0,this.array=e,this.kind=t},g(e.prototype,{next:function(){var t=this.i,r=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof r)for(var n=ue.ToLength(r.length);t<n;t++){var o,i=this.kind;return"key"===i?o=t:"value"===i?o=r[t]:"entry"===i&&(o=[t,r[t]]),this.i=t+1,$e(o)}return this.array=void 0,$e()}}),Ie(e.prototype);var Ke=Array.of===Ze.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}();Ke||re(Array,"of",Ze.of);var Qe={copyWithin:function(e,t){var r,n=ue.ToObject(this),o=ue.ToLength(n.length),i=ue.ToInteger(e),a=ue.ToInteger(t),s=i<0?_(o+i,0):N(i,o),l=a<0?_(o+a,0):N(a,o);arguments.length>2&&(r=arguments[2]);var u="undefined"==typeof r?o:ue.ToInteger(r),c=u<0?_(o+u,0):N(u,o),f=N(c-l,o-s),p=1;for(l<s&&s<l+f&&(p=-1,l+=f-1,s+=f-1);f>0;)l in n?n[s]=n[l]:delete n[s],l+=p,s+=p,f-=1;return n},fill:function(e){var t;arguments.length>1&&(t=arguments[1]);var r;arguments.length>2&&(r=arguments[2]);var n=ue.ToObject(this),o=ue.ToLength(n.length);t=ue.ToInteger("undefined"==typeof t?0:t),r=ue.ToInteger("undefined"==typeof r?o:r);for(var i=t<0?_(o+t,0):N(t,o),a=r<0?o+r:r,s=i;s<o&&s<a;++s)n[s]=e;return n},find:function(e){var t=ue.ToObject(this),n=ue.ToLength(t.length);if(!ue.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var o,i=arguments.length>1?arguments[1]:null,a=0;a<n;a++)if(o=t[a],i){if(r(e,i,o,a,t))return o}else if(e(o,a,t))return o},findIndex:function(e){var t=ue.ToObject(this),n=ue.ToLength(t.length);if(!ue.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var o=arguments.length>1?arguments[1]:null,i=0;i<n;i++)if(o){if(r(e,o,t[i],i,t))return i}else if(e(t[i],i,t))return i;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};if(Array.prototype.keys&&!ue.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ue.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[oe]&&(g(Array.prototype,{values:Array.prototype[oe]}),te.symbol(X.unscopables)&&(Array.prototype[X.unscopables].values=!0)),f&&Array.prototype.values&&"values"!==Array.prototype.values.name){var et=Array.prototype.values;re(Array.prototype,"values",function(){return ue.Call(et,this,arguments)}),v(Array.prototype,oe,Array.prototype.values,!0)}g(Array.prototype,Qe),1/[!0].indexOf(!0,-0)<0&&v(Array.prototype,"indexOf",function(e){var t=j(this,arguments);return 0===t&&1/t<0?0:t},!0),Ie(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&Ie(Object.getPrototypeOf([].values()));var tt=function(){return s(function(){return 0===Array.from({length:-1}).length})}(),rt=function(){var e=Array.from([0].entries());return 1===e.length&&n(e[0])&&0===e[0][0]&&0===e[0][1]}();tt&&rt||re(Array,"from",Ze.from);var nt=function(){return s(function(){return Array.from([0],void 0)})}();if(!nt){var ot=Array.from;re(Array,"from",function(e){return arguments.length>1&&"undefined"!=typeof arguments[1]?ue.Call(ot,this,arguments):r(ot,this,e)})}var it=-(Math.pow(2,32)-1),at=function(e,t){var n={length:it};return n[t?(n.length>>>0)-1:0]=!0,s(function(){return r(e,n,function(){throw new RangeError("should not reach here")},[]),!0})};if(!at(Array.prototype.forEach)){var st=Array.prototype.forEach;re(Array.prototype,"forEach",function(e){return ue.Call(st,this.length>=0?this:[],arguments)},!0)}if(!at(Array.prototype.map)){var lt=Array.prototype.map;re(Array.prototype,"map",function(e){return ue.Call(lt,this.length>=0?this:[],arguments)},!0)}if(!at(Array.prototype.filter)){var ut=Array.prototype.filter;re(Array.prototype,"filter",function(e){return ue.Call(ut,this.length>=0?this:[],arguments)},!0)}if(!at(Array.prototype.some)){var ct=Array.prototype.some;re(Array.prototype,"some",function(e){return ue.Call(ct,this.length>=0?this:[],arguments)},!0)}if(!at(Array.prototype.every)){var ft=Array.prototype.every;re(Array.prototype,"every",function(e){return ue.Call(ft,this.length>=0?this:[],arguments)},!0)}if(!at(Array.prototype.reduce)){var pt=Array.prototype.reduce;re(Array.prototype,"reduce",function(e){return ue.Call(pt,this.length>=0?this:[],arguments)},!0)}if(!at(Array.prototype.reduceRight,!0)){var ht=Array.prototype.reduceRight;re(Array.prototype,"reduceRight",function(e){return ue.Call(ht,this.length>=0?this:[],arguments)},!0)}var yt=8!==Number("0o10"),dt=2!==Number("0b10"),vt=d(qe,function(e){return 0===Number(e+0+e)});if(yt||dt||vt){var gt=Number,bt=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,wt=bt.test.bind(bt),St=mt.test.bind(mt),Ct=function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),te.primitive(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),te.primitive(t)))return t;throw new TypeError("No default value")},Ot=Ge.test.bind(Ge),Pt=Xe.test.bind(Xe),kt=function(){var e=function(t){var r;r=arguments.length>0?te.primitive(t)?t:Ct(t,"number"):0,"string"==typeof r&&(r=ue.Call(ze,r),wt(r)?r=parseInt(T(r,2),2):St(r)?r=parseInt(T(r,2),8):(Ot(r)||Pt(r))&&(r=NaN));var n=this,o=s(function(){return gt.prototype.valueOf.call(n),!0});return n instanceof e&&!o?new gt(r):gt(r)};return e}();ke(gt,kt,{}),g(kt,{NaN:gt.NaN,MAX_VALUE:gt.MAX_VALUE,MIN_VALUE:gt.MIN_VALUE,NEGATIVE_INFINITY:gt.NEGATIVE_INFINITY,POSITIVE_INFINITY:gt.POSITIVE_INFINITY}),Number=kt,w.redefine(P,"Number",kt)}var Bt=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:Bt,MIN_SAFE_INTEGER:-Bt,EPSILON:2.220446049250313e-16,parseInt:P.parseInt,parseFloat:P.parseFloat,isFinite:J,isInteger:function(e){return J(e)&&ue.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&R(e)<=Number.MAX_SAFE_INTEGER},isNaN:$}),v(Number,"parseInt",P.parseInt,Number.parseInt!==P.parseInt),1===[,1].find(function(){return!0})&&re(Array.prototype,"find",Qe.find),0!==[,1].findIndex(function(){return!0})&&re(Array.prototype,"findIndex",Qe.findIndex);var jt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),It=function(e,t){c&&jt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},Tt=function(){for(var e=Number(this),t=arguments.length,r=t-e,n=new Array(r<0?0:r),o=e;o<t;++o)n[o-e]=arguments[o];return n},Et=function(e){return function(t,r){return t[r]=e[r],t}},xt=function(e,t){var r,n=o(Object(t));return ue.IsCallable(Object.getOwnPropertySymbols)&&(r=y(Object.getOwnPropertySymbols(Object(t)),jt(t))),h(I(n,r||[]),Et(t),e)},Mt={assign:function(e,t){var r=ue.ToObject(e,"Cannot convert undefined or null to object");return h(ue.Call(Tt,1,arguments),xt,r)},is:function(e,t){return ue.SameValue(e,t)}},_t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}();if(_t&&re(Object,"assign",Mt.assign),g(Object,Mt),c){var Nt={setPrototypeOf:function(e,t){var n,o=function(e,t){if(!ue.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ue.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},i=function(e,t){return o(e,t),r(n,e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,t).set,r(n,{},null)}catch(r){if(e.prototype!=={}[t])return;n=function(e){this[t]=e},i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};g(Object,Nt)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var e=Object.create(null),t=Object.getPrototypeOf,r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n},Object.setPrototypeOf=function(t,n){var o=null===n?e:n;return r(t,o)},Object.setPrototypeOf.polyfill=!1}();var Yt=!a(function(){Object.keys("foo")});if(!Yt){var Rt=Object.keys;re(Object,"keys",function(e){return Rt(ue.ToObject(e))}),o=Object.keys}var At=a(function(){Object.keys(/a/g)});if(At){var Ft=Object.keys;re(Object,"keys",function(e){if(te.regex(e)){var t=[];for(var r in e)L(e,r)&&E(t,r);return t}return Ft(e)}),o=Object.keys}if(Object.getOwnPropertyNames){var Dt=!a(function(){Object.getOwnPropertyNames("foo")});if(!Dt){var Lt="object"==typeof window?Object.getOwnPropertyNames(window):[],Vt=Object.getOwnPropertyNames;re(Object,"getOwnPropertyNames",function(e){var t=ue.ToObject(e);if("[object Window]"===b(t))try{return Vt(t)}catch(e){return I([],Lt)}return Vt(t)})}}if(Object.getOwnPropertyDescriptor){var Wt=!a(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Wt){var Ht=Object.getOwnPropertyDescriptor;re(Object,"getOwnPropertyDescriptor",function(e,t){return Ht(ue.ToObject(e),t)})}}if(Object.seal){var zt=!a(function(){Object.seal("foo")});if(!zt){var qt=Object.seal;re(Object,"seal",function(e){return ue.TypeIsObject(e)?qt(e):e})}}if(Object.isSealed){var Gt=!a(function(){Object.isSealed("foo")});if(!Gt){var Xt=Object.isSealed;re(Object,"isSealed",function(e){return!ue.TypeIsObject(e)||Xt(e)})}}if(Object.freeze){var Ut=!a(function(){Object.freeze("foo")});if(!Ut){var $t=Object.freeze;re(Object,"freeze",function(e){return ue.TypeIsObject(e)?$t(e):e})}}if(Object.isFrozen){var Jt=!a(function(){Object.isFrozen("foo")});if(!Jt){var Zt=Object.isFrozen;re(Object,"isFrozen",function(e){return!ue.TypeIsObject(e)||Zt(e)})}}if(Object.preventExtensions){var Kt=!a(function(){Object.preventExtensions("foo")});if(!Kt){var Qt=Object.preventExtensions;re(Object,"preventExtensions",function(e){return ue.TypeIsObject(e)?Qt(e):e})}}if(Object.isExtensible){var er=!a(function(){Object.isExtensible("foo")});if(!er){
var tr=Object.isExtensible;re(Object,"isExtensible",function(e){return!!ue.TypeIsObject(e)&&tr(e)})}}if(Object.getPrototypeOf){var rr=!a(function(){Object.getPrototypeOf("foo")});if(!rr){var nr=Object.getPrototypeOf;re(Object,"getPrototypeOf",function(e){return nr(ue.ToObject(e))})}}var or=c&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ue.IsCallable(e.get)}();if(c&&!or){var ir=function(){if(!ue.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};w.getter(RegExp.prototype,"flags",ir)}var ar=c&&s(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),sr=ne&&c&&function(){var e=/./;return e[X.match]=!1,RegExp(e)===e}(),lr=s(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),ur=lr&&s(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!lr||!ur){var cr=RegExp.prototype.toString;v(RegExp.prototype,"toString",function(){var e=ue.RequireObjectCoercible(this);if(te.regex(e))return r(cr,e);var t=ae(e.source),n=ae(e.flags);return"/"+t+"/"+n},!0),w.preserveToString(RegExp.prototype.toString,cr)}if(c&&(!ar||sr)){var fr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},hr=function(){return this.source},yr=ue.IsCallable(pr.get)?pr.get:hr,dr=RegExp,vr=function(){return function e(t,r){var n=ue.IsRegExp(t),o=this instanceof e;if(!o&&n&&"undefined"==typeof r&&t.constructor===e)return t;var i=t,a=r;return te.regex(t)?(i=ue.Call(yr,t),a="undefined"==typeof r?ue.Call(fr,t):r,new e(i,a)):(n&&(i=t.source,a="undefined"==typeof r?t.flags:r),new dr(t,r))}}();ke(dr,vr,{$input:!0}),RegExp=vr,w.redefine(P,"RegExp",vr)}if(c){var gr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(o(gr),function(e){e in RegExp&&!(gr[e]in RegExp)&&w.getter(RegExp,gr[e],function(){return RegExp[e]})})}je(RegExp);var br=1/Number.EPSILON,mr=function(e){return e+br-br},wr=Math.pow(2,-23),Sr=Math.pow(2,127)*(2-wr),Cr=Math.pow(2,-126),Or=Math.E,Pr=Math.LOG2E,kr=Math.LOG10E,Br=Number.prototype.clz;delete Number.prototype.clz;var jr={acosh:function(e){var t=Number(e);return $(t)||e<1?NaN:1===t?0:t===1/0?t:F(t/Or+D(t+1)*D(t-1)/Or)+1},asinh:function e(t){var r=Number(t);return 0!==r&&k(r)?r<0?-e(-r):F(r+D(r*r+1)):r},atanh:function(e){var t=Number(e);return $(t)||t<-1||t>1?NaN:t===-1?-(1/0):1===t?1/0:0===t?t:.5*F((1+t)/(1-t))},cbrt:function(e){var t=Number(e);if(0===t)return t;var r,n=t<0;return n&&(t=-t),t===1/0?r=1/0:(r=A(F(t)/3),r=(t/(r*r)+2*r)/3),n?-r:r},clz32:function(e){var t=Number(e),r=ue.ToUint32(t);return 0===r?32:Br?ue.Call(Br,r):31-Y(F(r+.5)*Pr)},cosh:function(e){var t=Number(e);return 0===t?1:$(t)?NaN:k(t)?(t<0&&(t=-t),t>21?A(t)/2:(A(t)+A(-t))/2):1/0},expm1:function(e){var t=Number(e);if(t===-(1/0))return-1;if(!k(t)||0===t)return t;if(R(t)>.5)return A(t)-1;for(var r=t,n=0,o=1;n+r!==n;)n+=r,o+=1,r*=t/o;return n},hypot:function(e,t){for(var r=0,n=0,o=0;o<arguments.length;++o){var i=R(Number(arguments[o]));n<i?(r*=n/i*(n/i),r+=1,n=i):r+=i>0?i/n*(i/n):i}return n===1/0?1/0:n*D(r)},log2:function(e){return F(e)*Pr},log10:function(e){return F(e)*kr},log1p:function(e){var t=Number(e);return t<-1||$(t)?NaN:0===t||t===1/0?t:t===-1?-(1/0):1+t-1===0?t:t*(F(1+t)/(1+t-1))},sign:Z,sinh:function(e){var t=Number(e);return k(t)&&0!==t?R(t)<1?(Math.expm1(t)-Math.expm1(-t))/2:(A(t-1)-A(-t-1))*Or/2:t},tanh:function(e){var t=Number(e);return $(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(A(t)+A(-t))},trunc:function(e){var t=Number(e);return t<0?-Y(-t):Y(t)},imul:function(e,t){var r=ue.ToUint32(e),n=ue.ToUint32(t),o=r>>>16&65535,i=65535&r,a=n>>>16&65535,s=65535&n;return i*s+(o*s+i*a<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-(1/0)||$(t))return t;var r=Z(t),n=R(t);if(n<Cr)return r*mr(n/Cr/wr)*Cr*wr;var o=(1+wr/Number.EPSILON)*n,i=o-(o-n);return i>Sr||$(i)?r*(1/0):r*i}};g(Math,jr),v(Math,"log1p",jr.log1p,Math.log1p(-1e-17)!==-1e-17),v(Math,"asinh",jr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),v(Math,"tanh",jr.tanh,Math.tanh(-2e-17)!==-2e-17),v(Math,"acosh",jr.acosh,Math.acosh(Number.MAX_VALUE)===1/0),v(Math,"cbrt",jr.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),v(Math,"sinh",jr.sinh,Math.sinh(-2e-17)!==-2e-17);var Ir=Math.expm1(10);v(Math,"expm1",jr.expm1,Ir>22025.465794806718||Ir<22025.465794806718);var Tr=Math.round,Er=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),xr=br+1,Mr=2*br-1,_r=[xr,Mr].every(function(e){return Math.round(e)===e});v(Math,"round",function(e){var t=Y(e),r=t===-1?-0:t+1;return e-t<.5?t:r},!Er||!_r),w.preserveToString(Math.round,Tr);var Nr=Math.imul;Math.imul(4294967295,5)!==-5&&(Math.imul=jr.imul,w.preserveToString(Math.imul,Nr)),2!==Math.imul.length&&re(Math,"imul",function(e,t){return ue.Call(Nr,Math,arguments)});var Yr=function(){var e=P.setTimeout;if("function"==typeof e||"object"==typeof e){ue.IsPromise=function(e){return!!ue.TypeIsObject(e)&&"undefined"!=typeof e._promise};var t,n=function(e){if(!ue.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this,r=function(e,r){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=r};if(t.resolve=void 0,t.reject=void 0,t.promise=new e(r),!ue.IsCallable(t.resolve)||!ue.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ue.IsCallable(window.postMessage)&&(t=function(){var e=[],t="zero-timeout-message",r=function(r){E(e,r),window.postMessage(t,"*")},n=function(r){if(r.source===window&&r.data===t){if(r.stopPropagation(),0===e.length)return;var n=M(e);n()}};return window.addEventListener("message",n,!0),r});var o,i,a=function(){var e=P.Promise,t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}},s=ue.IsCallable(P.setImmediate)?P.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:a()||(ue.IsCallable(t)?t():function(t){e(t,0)}),l=function(e){return e},u=function(e){throw e},c=0,f=1,p=2,h=0,y=1,d=2,v={},b=function(e,t,r){s(function(){m(e,t,r)})},m=function(e,t,r){var n,o;if(t===v)return e(r);try{n=e(r),o=t.resolve}catch(e){n=e,o=t.reject}o(n)},w=function(e,t){var r=e._promise,n=r.reactionLength;if(n>0&&(b(r.fulfillReactionHandler0,r.reactionCapability0,t),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var o=1,i=0;o<n;o++,i+=3)b(r[i+h],r[i+d],t),e[i+h]=void 0,e[i+y]=void 0,e[i+d]=void 0;r.result=t,r.state=f,r.reactionLength=0},S=function(e,t){var r=e._promise,n=r.reactionLength;if(n>0&&(b(r.rejectReactionHandler0,r.reactionCapability0,t),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var o=1,i=0;o<n;o++,i+=3)b(r[i+y],r[i+d],t),e[i+h]=void 0,e[i+y]=void 0,e[i+d]=void 0;r.result=t,r.state=p,r.reactionLength=0},C=function(e){var t=!1,r=function(r){var n;if(!t){if(t=!0,r===e)return S(e,new TypeError("Self resolution"));if(!ue.TypeIsObject(r))return w(e,r);try{n=r.then}catch(t){return S(e,t)}return ue.IsCallable(n)?void s(function(){k(e,r,n)}):w(e,r)}},n=function(r){if(!t)return t=!0,S(e,r)};return{resolve:r,reject:n}},O=function(e,t,n,o){e===i?r(e,t,n,o,v):r(e,t,n,o)},k=function(e,t,r){var n=C(e),o=n.resolve,i=n.reject;try{O(r,t,o,i)}catch(e){i(e)}},B=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ue.IsCallable(t))throw new TypeError("not a valid resolver");var r=xe(this,e,o,{_promise:{result:void 0,state:c,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=C(r),i=n.reject;try{t(n.resolve,i)}catch(e){i(e)}return r};return e}();o=B.prototype;var j=function(e,t,r,n){var o=!1;return function(i){if(!o&&(o=!0,t[e]=i,0===--n.count)){var a=r.resolve;a(t)}}},I=function(e,t,r){for(var n,o,i=e.iterator,a=[],s={count:1},l=0;;){try{if(n=ue.IteratorStep(i),n===!1){e.done=!0;break}o=n.value}catch(t){throw e.done=!0,t}a[l]=void 0;var u=t.resolve(o),c=j(l,a,r,s);s.count+=1,O(u.then,u,c,r.reject),l+=1}if(0===--s.count){var f=r.resolve;f(a)}return r.promise},T=function(e,t,r){for(var n,o,i,a=e.iterator;;){try{if(n=ue.IteratorStep(a),n===!1){e.done=!0;break}o=n.value}catch(t){throw e.done=!0,t}i=t.resolve(o),O(i.then,i,r.resolve,r.reject)}return r.promise};return g(B,{all:function(e){var t=this;if(!ue.TypeIsObject(t))throw new TypeError("Promise is not object");var r,o,i=new n(t);try{return r=ue.GetIterator(e),o={iterator:r,done:!1},I(o,t,i)}catch(e){var a=e;if(o&&!o.done)try{ue.IteratorClose(r,!0)}catch(e){a=e}var s=i.reject;return s(a),i.promise}},race:function(e){var t=this;if(!ue.TypeIsObject(t))throw new TypeError("Promise is not object");var r,o,i=new n(t);try{return r=ue.GetIterator(e),o={iterator:r,done:!1},T(o,t,i)}catch(e){var a=e;if(o&&!o.done)try{ue.IteratorClose(r,!0)}catch(e){a=e}var s=i.reject;return s(a),i.promise}},reject:function(e){var t=this;if(!ue.TypeIsObject(t))throw new TypeError("Bad promise constructor");var r=new n(t),o=r.reject;return o(e),r.promise},resolve:function(e){var t=this;if(!ue.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(ue.IsPromise(e)){var r=e.constructor;if(r===t)return e}var o=new n(t),i=o.resolve;return i(e),o.promise}}),g(o,{catch:function(e){return this.then(null,e)},then:function(e,t){var r=this;if(!ue.IsPromise(r))throw new TypeError("not a promise");var o,i=ue.SpeciesConstructor(r,B),a=arguments.length>2&&arguments[2]===v;o=a&&i===B?v:new n(i);var s,g=ue.IsCallable(e)?e:l,m=ue.IsCallable(t)?t:u,w=r._promise;if(w.state===c){if(0===w.reactionLength)w.fulfillReactionHandler0=g,w.rejectReactionHandler0=m,w.reactionCapability0=o;else{var S=3*(w.reactionLength-1);w[S+h]=g,w[S+y]=m,w[S+d]=o}w.reactionLength+=1}else if(w.state===f)s=w.result,b(g,o,s);else{if(w.state!==p)throw new TypeError("unexpected Promise state");s=w.result,b(m,o,s)}return o.promise}}),v=new n(B),i=o.then,B}}();if(P.Promise&&(delete P.Promise.accept,delete P.Promise.defer,delete P.Promise.prototype.chain),"function"==typeof Yr){g(P,{Promise:Yr});var Rr=C(P.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),Ar=!a(function(){P.Promise.reject(42).then(null,5).then(null,V)}),Fr=a(function(){P.Promise.call(3,V)}),Dr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,V).then(null,V)}catch(e){return!0}return t===r}(P.Promise),Lr=c&&function(){var e=0,t=Object.defineProperty({},"then",{get:function(){e+=1}});return Promise.resolve(t),1===e}(),Vr=function e(t){var r=new Promise(t);t(3,function(){}),this.then=r.then,this.constructor=e};Vr.prototype=Promise.prototype,Vr.all=Promise.all;var Wr=s(function(){return!!Vr.all([1,2])});if(Rr&&Ar&&Fr&&!Dr&&Lr&&!Wr||(Promise=Yr,re(P,"Promise",Yr)),1!==Promise.all.length){var Hr=Promise.all;re(Promise,"all",function(e){return ue.Call(Hr,this,arguments)})}if(1!==Promise.race.length){var zr=Promise.race;re(Promise,"race",function(e){return ue.Call(zr,this,arguments)})}if(1!==Promise.resolve.length){var qr=Promise.resolve;re(Promise,"resolve",function(e){return ue.Call(qr,this,arguments)})}if(1!==Promise.reject.length){var Gr=Promise.reject;re(Promise,"reject",function(e){return ue.Call(Gr,this,arguments)})}It(Promise,"all"),It(Promise,"race"),It(Promise,"resolve"),It(Promise,"reject"),je(Promise)}var Xr=function(e){var t=o(h(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},Ur=Xr(["z","a","bb"]),$r=Xr(["z",1,"a","3",2]);if(c){var Jr=function(e,t){return t||Ur?le(e)?"^"+ue.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?$r?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},Zr=function(){return Object.create?Object.create(null):{}},Kr=function(e,t,o){if(n(o)||te.string(o))p(o,function(e){if(!ue.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(o instanceof e)r(e.prototype.forEach,o,function(e,r){t.set(r,e)});else{var i,a;if(!le(o)){if(a=t.set,!ue.IsCallable(a))throw new TypeError("bad map");i=ue.GetIterator(o)}if("undefined"!=typeof i)for(;;){var s=ue.IteratorStep(i);if(s===!1)break;var l=s.value;try{if(!ue.TypeIsObject(l))throw new TypeError("Iterator value "+l+" is not an entry object");r(a,t,l[0],l[1])}catch(e){throw ue.IteratorClose(i,!0),e}}}},Qr=function(e,t,o){if(n(o)||te.string(o))p(o,function(e){t.add(e)});else if(o instanceof e)r(e.prototype.forEach,o,function(e){t.add(e)});else{var i,a;if(!le(o)){if(a=t.add,!ue.IsCallable(a))throw new TypeError("bad set");i=ue.GetIterator(o)}if("undefined"!=typeof i)for(;;){var s=ue.IteratorStep(i);if(s===!1)break;var l=s.value;try{r(a,t,l)}catch(e){throw ue.IteratorClose(i,!0),e}}}},en={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var n=function(e){return!!e._es6map},o=function(e,t){if(!ue.TypeIsObject(e)||!n(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ue.ToString(e))},i=function(e,t){o(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};i.prototype={next:function(){var e=this.i,t=this.kind,r=this.head;if("undefined"==typeof this.i)return $e();for(;e.isRemoved()&&e!==r;)e=e.prev;for(var n;e.next!==r;)if(e=e.next,!e.isRemoved())return n="key"===t?e.key:"value"===t?e.value:[e.key,e.value],this.i=e,$e(n);return this.i=void 0,$e()}},Ie(i.prototype);var a,s=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var r=xe(this,e,a,{_es6map:!0,_head:null,_map:W?new W:null,_size:0,_storage:Zr()}),n=new t(null,null);return n.next=n.prev=n,r._head=n,arguments.length>0&&Kr(e,r,arguments[0]),r};return a=s.prototype,w.getter(a,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),g(a,{get:function(e){o(this,"get");var t,r=Jr(e,!0);if(null!==r)return t=this._storage[r],t?t.value:void 0;if(this._map)return t=z.call(this._map,e),t?t.value:void 0;for(var n=this._head,i=n;(i=i.next)!==n;)if(ue.SameValueZero(i.key,e))return i.value},has:function(e){o(this,"has");var t=Jr(e,!0);if(null!==t)return"undefined"!=typeof this._storage[t];if(this._map)return q.call(this._map,e);for(var r=this._head,n=r;(n=n.next)!==r;)if(ue.SameValueZero(n.key,e))return!0;return!1},set:function(e,r){o(this,"set");var n,i=this._head,a=i,s=Jr(e,!0);if(null!==s){if("undefined"!=typeof this._storage[s])return this._storage[s].value=r,this;n=this._storage[s]=new t(e,r),a=i.prev}else this._map&&(q.call(this._map,e)?z.call(this._map,e).value=r:(n=new t(e,r),G.call(this._map,e,n),a=i.prev));for(;(a=a.next)!==i;)if(ue.SameValueZero(a.key,e))return a.value=r,this;return n=n||new t(e,r),ue.SameValue(-0,e)&&(n.key=0),n.next=this._head,n.prev=this._head.prev,n.prev.next=n,n.next.prev=n,this._size+=1,this},delete:function(t){o(this,"delete");var r=this._head,n=r,i=Jr(t,!0);if(null!==i){if("undefined"==typeof this._storage[i])return!1;n=this._storage[i].prev,delete this._storage[i]}else if(this._map){if(!q.call(this._map,t))return!1;n=z.call(this._map,t).prev,H.call(this._map,t)}for(;(n=n.next)!==r;)if(ue.SameValueZero(n.key,t))return n.key=e,n.value=e,n.prev.next=n.next,n.next.prev=n.prev,this._size-=1,!0;return!1},clear:function(){o(this,"clear"),this._map=W?new W:null,this._size=0,this._storage=Zr();for(var t=this._head,r=t,n=r.next;(r=n)!==t;)r.key=e,r.value=e,n=r.next,r.next=r.prev=t;t.next=t.prev=t},keys:function(){return o(this,"keys"),new i(this,"key")},values:function(){return o(this,"values"),new i(this,"value")},entries:function(){return o(this,"entries"),new i(this,"key+value")},forEach:function(e){o(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,n=this.entries(),i=n.next();!i.done;i=n.next())t?r(e,t,i.value[1],i.value[0],this):e(i.value[1],i.value[0],this)}}),Ie(a,a.entries),s}(),Set:function(){var e,t=function(e){return e._es6set&&"undefined"!=typeof e._storage},n=function(e,r){if(!ue.TypeIsObject(e)||!t(e))throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ue.ToString(e))},i=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var r=xe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:Zr()});if(!r._es6set)throw new TypeError("bad set");return arguments.length>0&&Qr(t,r,arguments[0]),r};e=i.prototype;var a=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var r=t.charAt(0);return"$"===r?T(t,1):"n"===r?+T(t,1):"b"===r?"btrue"===t:+t}},s=function(e){if(!e["[[SetData]]"]){var t=new en.Map;e["[[SetData]]"]=t,p(o(e._storage),function(e){var r=a(e);t.set(r,r)}),e["[[SetData]]"]=t}e._storage=null};return w.getter(i.prototype,"size",function(){return n(this,"size"),this._storage?o(this._storage).length:(s(this),this["[[SetData]]"].size)}),g(i.prototype,{has:function(e){n(this,"has");var t;return this._storage&&null!==(t=Jr(e))?!!this._storage[t]:(s(this),this["[[SetData]]"].has(e))},add:function(e){n(this,"add");var t;return this._storage&&null!==(t=Jr(e))?(this._storage[t]=!0,this):(s(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){n(this,"delete");var t;if(this._storage&&null!==(t=Jr(e))){var r=L(this._storage,t);return delete this._storage[t]&&r}return s(this),this["[[SetData]]"].delete(e)},clear:function(){n(this,"clear"),this._storage&&(this._storage=Zr()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return n(this,"values"),s(this),this["[[SetData]]"].values()},entries:function(){return n(this,"entries"),s(this),this["[[SetData]]"].entries()},forEach:function(e){n(this,"forEach");var t=arguments.length>1?arguments[1]:null,o=this;s(o),this["[[SetData]]"].forEach(function(n,i){t?r(e,t,i,i,o):e(i,i,o)})}}),v(i.prototype,"keys",i.prototype.values,!0),Ie(i.prototype,i.prototype.values),i}()};if(P.Map||P.Set){var tn=s(function(){return 2===new Map([[1,2]]).get(1)});tn||(P.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new W;return arguments.length>0&&Kr(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,P.Map.prototype),t},P.Map.prototype=S(W.prototype),v(P.Map.prototype,"constructor",P.Map,!0),w.preserveToString(P.Map,W));var rn=new Map,nn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);return e.set(-0,e),e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}(),on=rn.set(1,2)===rn;nn&&on||re(Map.prototype,"set",function(e,t){return r(G,this,0===e?0:e,t),this}),nn||(g(Map.prototype,{get:function(e){return r(z,this,0===e?0:e)},has:function(e){return r(q,this,0===e?0:e)}},!0),w.preserveToString(Map.prototype.get,z),w.preserveToString(Map.prototype.has,q));var an=new Set,sn=function(e){return e.delete(0),e.add(-0),!e.has(0)}(an),ln=an.add(1)===an;if(!sn||!ln){var un=Set.prototype.add;Set.prototype.add=function(e){return r(un,this,0===e?0:e),this},w.preserveToString(Set.prototype.add,un)}if(!sn){var cn=Set.prototype.has;Set.prototype.has=function(e){return r(cn,this,0===e?0:e)},w.preserveToString(Set.prototype.has,cn);var fn=Set.prototype.delete;Set.prototype.delete=function(e){return r(fn,this,0===e?0:e)},w.preserveToString(Set.prototype.delete,fn)}var pn=C(P.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),hn=Object.setPrototypeOf&&!pn,yn=function(){try{return!(P.Map()instanceof P.Map)}catch(e){return e instanceof TypeError}}();0===P.Map.length&&!hn&&yn||(P.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new W;return arguments.length>0&&Kr(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},P.Map.prototype=W.prototype,v(P.Map.prototype,"constructor",P.Map,!0),w.preserveToString(P.Map,W));var dn=C(P.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),vn=Object.setPrototypeOf&&!dn,gn=function(){try{return!(P.Set()instanceof P.Set)}catch(e){return e instanceof TypeError}}();if(0!==P.Set.length||vn||!gn){var bn=P.Set;P.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new bn;return arguments.length>0&&Qr(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},P.Set.prototype=bn.prototype,v(P.Set.prototype,"constructor",P.Set,!0),w.preserveToString(P.Set,bn)}var mn=new P.Map,wn=!s(function(){return mn.keys().next().done});if(("function"!=typeof P.Map.prototype.clear||0!==(new P.Set).size||0!==mn.size||"function"!=typeof P.Map.prototype.keys||"function"!=typeof P.Set.prototype.keys||"function"!=typeof P.Map.prototype.forEach||"function"!=typeof P.Set.prototype.forEach||l(P.Map)||l(P.Set)||"function"!=typeof mn.keys().next||wn||!pn)&&g(P,{Map:en.Map,Set:en.Set},!0),P.Set.prototype.keys!==P.Set.prototype.values&&v(P.Set.prototype,"keys",P.Set.prototype.values,!0),Ie(Object.getPrototypeOf((new P.Map).keys())),Ie(Object.getPrototypeOf((new P.Set).keys())),f&&"has"!==P.Set.prototype.has.name){var Sn=P.Set.prototype.has;re(P.Set.prototype,"has",function(e){return r(Sn,this,e)})}}g(P,en),je(P.Map),je(P.Set)}var Cn=function(e){if(!ue.TypeIsObject(e))throw new TypeError("target must be an object")},On={apply:function(){return ue.Call(ue.Call,null,arguments)},construct:function(e,t){if(!ue.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var r=arguments.length>2?arguments[2]:e;if(!ue.IsConstructor(r))throw new TypeError("new.target must be a constructor.");return ue.Construct(e,t,r,"internal")},deleteProperty:function(e,t){if(Cn(e),c){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable)return!1}return delete e[t]},has:function(e,t){return Cn(e),t in e}};Object.getOwnPropertyNames&&Object.assign(On,{ownKeys:function(e){Cn(e);var t=Object.getOwnPropertyNames(e);return ue.IsCallable(Object.getOwnPropertySymbols)&&x(t,Object.getOwnPropertySymbols(e)),t}});var Pn=function(e){return!a(e)};if(Object.preventExtensions&&Object.assign(On,{isExtensible:function(e){return Cn(e),Object.isExtensible(e)},preventExtensions:function(e){return Cn(e),Pn(function(){Object.preventExtensions(e)})}}),c){var kn=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(null===o)return;return kn(o,t,r)}return"value"in n?n.value:n.get?ue.Call(n.get,r):void 0},Bn=function(e,t,n,o){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var a=Object.getPrototypeOf(e);if(null!==a)return Bn(a,t,n,o);i={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in i){if(!i.writable)return!1;if(!ue.TypeIsObject(o))return!1;var s=Object.getOwnPropertyDescriptor(o,t);return s?ie.defineProperty(o,t,{value:n}):ie.defineProperty(o,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}return!!i.set&&(r(i.set,o,n),!0)};Object.assign(On,{defineProperty:function(e,t,r){return Cn(e),Pn(function(){Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function(e,t){return Cn(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){Cn(e);var r=arguments.length>2?arguments[2]:e;return kn(e,t,r)},set:function(e,t,r){Cn(e);var n=arguments.length>3?arguments[3]:e;return Bn(e,t,r,n)}})}if(Object.getPrototypeOf){var jn=Object.getPrototypeOf;On.getPrototypeOf=function(e){return Cn(e),jn(e)}}if(Object.setPrototypeOf&&On.getPrototypeOf){var In=function(e,t){for(var r=t;r;){if(e===r)return!0;r=On.getPrototypeOf(r)}return!1};Object.assign(On,{setPrototypeOf:function(e,t){if(Cn(e),null!==t&&!ue.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===ie.getPrototypeOf(e)||!(ie.isExtensible&&!ie.isExtensible(e))&&(!In(e,t)&&(Object.setPrototypeOf(e,t),!0))}})}var Tn=function(e,t){if(ue.IsCallable(P.Reflect[e])){var r=s(function(){return P.Reflect[e](1),P.Reflect[e](NaN),P.Reflect[e](!0),!0});r&&re(P.Reflect,e,t)}else v(P.Reflect,e,t)};Object.keys(On).forEach(function(e){Tn(e,On[e])});var En=P.Reflect.getPrototypeOf;if(f&&En&&"getPrototypeOf"!==En.name&&re(P.Reflect,"getPrototypeOf",function(e){return r(En,P.Reflect,e)}),P.Reflect.setPrototypeOf&&s(function(){return P.Reflect.setPrototypeOf(1,{}),!0})&&re(P.Reflect,"setPrototypeOf",On.setPrototypeOf),P.Reflect.defineProperty&&(s(function(){var e=!P.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!P.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||re(P.Reflect,"defineProperty",On.defineProperty)),P.Reflect.construct&&(s(function(){var e=function(){};return P.Reflect.construct(function(){},[],e)instanceof e})||re(P.Reflect,"construct",On.construct)),"Invalid Date"!==String(new Date(NaN))){var xn=Date.prototype.toString,Mn=function(){var e=+this;return e!==e?"Invalid Date":ue.Call(xn,this)};re(Date.prototype,"toString",Mn)}var _n={anchor:function(e){return ue.CreateHTML(this,"a","name",e)},big:function(){return ue.CreateHTML(this,"big","","")},blink:function(){return ue.CreateHTML(this,"blink","","")},bold:function(){return ue.CreateHTML(this,"b","","")},fixed:function(){return ue.CreateHTML(this,"tt","","")},fontcolor:function(e){return ue.CreateHTML(this,"font","color",e)},fontsize:function(e){return ue.CreateHTML(this,"font","size",e)},italics:function(){return ue.CreateHTML(this,"i","","")},link:function(e){return ue.CreateHTML(this,"a","href",e)},small:function(){return ue.CreateHTML(this,"small","","")},strike:function(){return ue.CreateHTML(this,"strike","","")},sub:function(){return ue.CreateHTML(this,"sub","","")},sup:function(){return ue.CreateHTML(this,"sup","","")}};p(Object.keys(_n),function(e){var t=String.prototype[e],n=!1;if(ue.IsCallable(t)){var o=r(t,"",' " '),i=I([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else n=!0;n&&re(String.prototype,e,_n[e])});var Nn=function(){if(!ne)return!1;var e="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if("undefined"!=typeof e(X()))return!0;if("[null]"!==e([X()]))return!0;var t={a:X()};return t[X()]=!0,"{}"!==e(t)}(),Yn=s(function(){return!ne||"{}"===JSON.stringify(Object(X()))&&"[{}]"===JSON.stringify([Object(X())])});if(Nn||!Yn){var Rn=JSON.stringify;re(JSON,"stringify",function(e){if("symbol"!=typeof e){var t;arguments.length>1&&(t=arguments[1]);var o=[e];if(n(t))o.push(t);else{var i=ue.IsCallable(t)?t:null,a=function(e,t){var n=i?r(i,this,e,t):t;if("symbol"!=typeof n)return te.symbol(n)?Et({})(n):n};o.push(a)}return arguments.length>2&&o.push(arguments[2]),Rn.apply(this,o)}})}return P});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(){function e(e){return document.querySelector(e)}var t={playerPlayState:null,isFullscreen:!1,controlPlay:null,progressBar:null,settingBtn:null,bulletScreen:null},r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"isWhichBrowser",value:function(e){if(!e)throw new Error('param "browser" of method "isWhichBrowser" is not given!');var t=e.toLowerCase(),r=function(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},n=function(){return"undefined"!=typeof InstallTrigger},o=function(){return!!document.documentMode},i=function(){return!o()&&!!window.StyleMedia},a=function(){return!!window.chrome&&!!window.chrome.webstore},s=function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||!a()&&!r()&&void 0!==window.webkitAudioContext},l={opera:r,firefox:n,safari:s,ie:o,edge:i,chrome:a};return l[t]()}},{key:"addClass",value:function(e,t){if(!t)throw new Error('second param "element" of method "addClass" is not given!');var r=t.className?t.className+" ":"";t.className=""+r+e}},{key:"removeClass",value:function(e,t){if(!t)throw new Error('second param "element" of method "removeClass" is not given!');var r=t.className;r.includes(e)&&(t.className=r.slice(0,r.indexOf(""+e)-1))}},{key:"hasClass",value:function(e,t){if(!t)throw new Error('second param "element" of method "hasClass" is not given!');return t.className.includes(e)}},{key:"offset",value:function(e,t){if(!t)throw new Error('second param "element" of method "offset" is not given!');var r=e.left,n=e.top;t.style.cssText+="position: absolute; left: "+r+"px; top: "+n+"px"}},{key:"outerWidth",value:function(e){if(!e)throw new Error('param "element" of method "outerWidth" is not given!');return e.offsetWidth}},{key:"outerHeight",value:function(e){if(!e)throw new Error('param "element" of method "outerHeight" is not given!');return e.offsetHeight}},{key:"getOffsetLeft",value:function(e){if(!e)throw new Error('param "element" of method "getOffsetLeft" is not given!');var t=e.getBoundingClientRect().left-e.parentNode.getBoundingClientRect().left;return Math.round(t)}},{key:"getOffsetTop",value:function(e){if(!e)throw new Error('param "element" of method "getOffsetTop" is not given!');var t=e.getBoundingClientRect().top-e.parentNode.getBoundingClientRect().top;return Math.round(t)}},{key:"getOffsetAndLength",value:function(e){if(!e)throw new Error('param "element" of method "getOffsetAndLength" is not given!');var t=e.getBoundingClientRect(),r=e.parentNode.getBoundingClientRect();return{width:t.width,height:t.height,offsetLeft:Math.round(t.left-r.left),offsetRight:Math.round(r.right-t.right),offsetTop:Math.round(t.top-r.top),parentWidth:r.width,parentHeight:r.height}}},{key:"getPageX",value:function(e){if(!e)throw new Error('param "element" of method "getPageX" is not given!');var t=window.pageXOffset,r=e.getBoundingClientRect().left,n=t+r;return Math.round(n)}},{key:"getPageY",value:function(e){if(!e)throw new Error('param "element" of method "getPageY" is not given!');var t=window.pageYOffset,r=e.getBoundingClientRect().top,n=t+r;return Math.round(n)}},{key:"sliderDragBtn",value:function(r){var n=r.orientation,o=r.fixedOffset,i=r.mouseMaxOffset,a=r.dragBtn,s=r.slidebar,l=r.mousedownCb||function(){},u=r.mousemoveCb||function(){},c=r.mouseupCb||function(){},f=r.mouseoutCb||function(){},p=r.context,h=null,y=null,d=null;a.onmousedown=function(r){t.addClass("YangPlayer-draggable",a),l.call(p),a.onmousemove=function(r){if("v"===n)h=r.pageY-t.outerHeight(a)/2-t.getPageY(s);else{if("h"!==n)throw new Error("the type of `orientation` is incorrect");h=r.pageX-t.outerWidth(a)/2-t.getPageX(s)}if("number"==typeof i)y=h<=0?0:h>=i?i:h;else{if("function"!=typeof i)throw new Error("the type of `mouseMaxOffset` is incorrect");y=h<=0?0:h>=(d=i.call(p))?d:h}"v"===n?t.offset({top:y,left:o},e(".YangPlayer-draggable")):"h"===n&&t.offset({top:o,left:y},e(".YangPlayer-draggable")),u.call(p,y),r.preventDefault()},a.onmouseup=function(e){t.removeClass("YangPlayer-draggable",a),a.onmousemove=null,c.call(p),e.preventDefault()},a.onmouseout=function(e){t.removeClass("YangPlayer-draggable",a),a.onmousemove=null,f.call(p),e.preventDefault()},r.preventDefault()}}}]),t}(),n=function(){function e(t){_classCallCheck(this,e),this.classObject=t}return _createClass(e,[{key:"buttonWasClicked",value:function(){throw new Error('method "buttonWasClicked" of super class must be overrided!')}}]),e}(),o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"buttonWasClicked",value:function(){this.classObject.pauseVideo()}}]),t}(n),i=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _inherits(r,e),
_createClass(r,[{key:"buttonWasClicked",value:function(){this.classObject.pauseVideo(),t.bulletScreen.bulletScreenStatus&&t.bulletScreen.controlPauseBulletScreen()}}]),r}(n),a=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _inherits(r,e),_createClass(r,[{key:"buttonWasClicked",value:function(){this.classObject.playVideo(),t.bulletScreen.bulletScreenStatus&&t.bulletScreen.controlContinueBulletScreen()}}]),r}(n),s=function(r){function n(t){_classCallCheck(this,n);var r={abort:1,network:2,decode:3,support:4},o={network:"哎呀，网络好像出错了！\n刷新网页试一下:P",decode:"咦，视频解码错误，\n这一定不是我的锅，\n换其他视频看看:）",support:"天啦噜，视频不存在或者当前的浏览器不支持这个格式的视频:(，\n换其他视频看看"},i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.mediaErrorCode=r,i.errorMessage=o,i.errDisplay=e(".YangPlayer-error-prompt"),i}return _inherits(n,r),_createClass(n,[{key:"buttonWasClicked",value:function(e){this.displayErrorMsg(e)}},{key:"displayErrorMsg",value:function(e){this.errDisplay.style.display="block",this.classObject.forbidEventBinding(),t.progressBar.forbidEventBinding(),t.settingBtn.forbidEventBinding(),t.bulletScreen.forbidEventBinding(),this.classObject.setErrorSign(),window.clearInterval(t.progressBar.intervalId),t.progressBar.intervalId=null,window.clearInterval(t.bulletScreen.intervalId),t.bulletScreen.intervalId=null;for(var r in this.mediaErrorCode)this.mediaErrorCode[r]===e&&(this.errDisplay.innerHTML=this.errorMessage[r])}}]),n}(n),l=function(){function r(t){_classCallCheck(this,r);var n={empty:0,idle:1,loading:2,source:3};this.classObject=t,this.networkStateCode=n,this.errDisplay=e(".YangPlayer-error-prompt")}return _createClass(r,[{key:"sourceState",value:function(e){if(3===e){var r="哎呀，这个视频地址的资源好像不见了！\n刷新网页或者换其他视频看看";this.errDisplay.style.display="block",this.classObject.forbidEventBinding(),t.progressBar.forbidEventBinding(),t.settingBtn.forbidEventBinding(),t.bulletScreen.forbidEventBinding(),this.classObject.setErrorSign(),window.clearInterval(t.progressBar.intervalId),t.progressBar.intervalId=null,window.clearInterval(t.bulletScreen.intervalId),t.bulletScreen.intervalId=null,this.errDisplay.innerHTML=r}}}]),r}(),u=function(){function e(t){_classCallCheck(this,e);var r={nothing:0,metadata:1,current:2,future:3,enough:4};this.classObject=t,this.readyStateCode=r}return _createClass(e,[{key:"toggleLoadingSign",value:function(e){return e<3?(this.classObject.setLoadingSign(),void(t.bulletScreenStatus&&t.bulletScreen.controlPauseBulletScreen())):void(e>=3&&!this.classObject.player.paused&&(this.classObject.playVideo(),t.bulletScreenStatus&&t.bulletScreen.controlContinueBulletScreen()))}}]),e}(),c=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"buttonWasClicked",value:function(){this.classObject.muteVolume()}}]),t}(n),f=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"buttonWasClicked",value:function(){this.classObject.normalVolume()}}]),t}(n),p=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"buttonWasClicked",value:function(e){if(e){if("loop"===e)return void this.classObject.loopPlayOff();if("auto"===e)return void this.classObject.autoPlayOff();throw new Error('param "btnType" of method "buttonWasClicked" is incorrect!')}throw new Error('param "btnType" of method "buttonWasClicked" is not given!')}}]),t}(n),h=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"buttonWasClicked",value:function(e){if(e){if("loop"===e)return void this.classObject.loopPlayOn();if("auto"===e)return void this.classObject.autoPlayOn();throw new Error('param "btnType" of method "buttonWasClicked" is incorrect!')}throw new Error('param "btnType" of method "buttonWasClicked" is not given!')}}]),t}(n),y=function(){function n(r){_classCallCheck(this,n),this.loadingState=new o(this),this.playingState=new i(this),this.pausingState=new a(this),this.playErrorState=new s(this),t.controlPlay=this,this.player=r,this.playerLayer=e(".YangPlayer-video-layer"),this.playButton=e(".YangPlayer-play-button"),this.pauseButton=e(".YangPlayer-pause-button"),this.playCircle=e(".YangPlayer-play-circle"),this.playLoading=e(".YangPlayer-loading"),this.controlPlayButton=e(".YangPlayer-controlPlay-button"),this.replayButton=e(".YangPlayer-replay"),this.playerState=t.playerPlayState,this.readyState=new u(this),this.networkState=new l(this)}return _createClass(n,[{key:"init",value:function(){var e=this;this.player.oncanplaythrough=function(){e.player.paused&&e.setPausingSign(),e.controlPlayButton.onclick=function(){e.playerState.buttonWasClicked()},e.playerLayer.onclick=function(){e.playerState.buttonWasClicked()},e.playCircle.onclick=function(){e.playerState.buttonWasClicked()},e.player.oncanplaythrough=null}}},{key:"listenError",value:function(){if(this.player.error){var e=this.player.error.code;if(1===e)return;this.setErrorSign(),this.playerState.buttonWasClicked(e)}}},{key:"listenReadyState",value:function(){if(!this.player.paused){var e=this.player.readyState;this.readyState.toggleLoadingSign(e)}}},{key:"listenNetwork",value:function(){var e=this.player.networkState;this.networkState.sourceState(e)}},{key:"listenAll",value:function(){this.listenReadyState(),this.listenError(),this.listenNetwork()}},{key:"forbidEventBinding",value:function(){this.controlPlayButton.onclick=null,this.playerLayer.onclick=null,this.playCircle.onclick=null,document.onkeydown=null}},{key:"setErrorSign",value:function(){this.player.style.opacity=0,r.hasClass("YangPlayer-display-none",this.playLoading)||r.addClass("YangPlayer-display-none",this.playLoading),r.hasClass("YangPlayer-display-block",this.playCircle)&&r.removeClass("YangPlayer-display-block",this.playCircle),r.hasClass("YangPlayer-display-inlineB",this.pauseButton)&&r.removeClass("YangPlayer-display-inlineB",this.pauseButton),r.hasClass("YangPlayer-display-none",this.playButton)&&r.removeClass("YangPlayer-display-none",this.playButton),this.setState(this.playErrorState)}},{key:"setLoadingSign",value:function(){this.player.style.opacity=.5,r.hasClass("YangPlayer-display-none",this.playLoading)&&r.removeClass("YangPlayer-display-none",this.playLoading),r.hasClass("YangPlayer-display-block",this.playCircle)&&r.removeClass("YangPlayer-display-block",this.playCircle),r.hasClass("YangPlayer-display-inlineB",this.pauseButton)||r.addClass("YangPlayer-display-inlineB",this.pauseButton),r.hasClass("YangPlayer-display-none",this.playButton)||r.addClass("YangPlayer-display-none",this.playButton),this.setState(this.loadingState)}},{key:"setPausingSign",value:function(){this.player.style.opacity=.5,r.hasClass("YangPlayer-display-none",this.playLoading)||r.addClass("YangPlayer-display-none",this.playLoading),r.hasClass("YangPlayer-display-block",this.playCircle)||r.addClass("YangPlayer-display-block",this.playCircle),r.hasClass("YangPlayer-display-inlineB",this.pauseButton)&&r.removeClass("YangPlayer-display-inlineB",this.pauseButton),r.hasClass("YangPlayer-display-none",this.playButton)&&r.removeClass("YangPlayer-display-none",this.playButton),this.setState(this.pausingState)}},{key:"setPlayingSign",value:function(){this.player.style.opacity=1,r.hasClass("YangPlayer-display-none",this.playLoading)||r.addClass("YangPlayer-display-none",this.playLoading),r.hasClass("YangPlayer-display-block",this.replayButton)&&r.removeClass("YangPlayer-display-block",this.replayButton),r.hasClass("YangPlayer-display-none",this.playButton)||r.addClass("YangPlayer-display-none",this.playButton),r.hasClass("YangPlayer-display-inlineB",this.pauseButton)||r.addClass("YangPlayer-display-inlineB",this.pauseButton),r.hasClass("YangPlayer-display-block",this.playCircle)&&r.removeClass("YangPlayer-display-block",this.playCircle),this.setState(this.playingState)}},{key:"setReplayPausingSign",value:function(){this.player.style.opacity=.5,r.hasClass("YangPlayer-display-none",this.playLoading)||r.addClass("YangPlayer-display-none",this.playLoading),r.hasClass("YangPlayer-display-block",this.playCircle)&&r.removeClass("YangPlayer-display-block",this.playCircle),r.hasClass("YangPlayer-display-block",this.replayButton)||r.addClass("YangPlayer-display-block",this.replayButton),r.hasClass("YangPlayer-display-none",this.playButton)&&r.removeClass("YangPlayer-display-none",this.playButton),r.hasClass("YangPlayer-display-inlineB",this.pauseButton)&&r.removeClass("YangPlayer-display-inlineB",this.pauseButton),this.setState(this.pausingState),t.bulletScreenStatus&&t.bulletScreen.controlPauseBulletScreen()}},{key:"replayVideo",value:function(){this.player.load(),t.progressBar.progressDragButton.style.left=0,t.progressBar.progressPlayedbarDisplay(),this.playVideo();for(var e in t.bulletScreen.userIdCollection)t.bulletScreen.userIdCollection[e].parentNode.removeChild(t.bulletScreen.userIdCollection[e]),window.clearTimeout(t.bulletScreen.userIdCollection[e]),delete t.bulletScreen.userIdCollection[e],delete t.bulletScreen.userIdCollection[e]}},{key:"setReplayEventBinding",value:function(){var e=this;this.setReplayPausingSign(),this.controlPlayButton.onclick=function(){e.replayVideo(t.progressBar),e.restoreDefaultBinding()},this.replayButton.onclick=function(){e.replayVideo(t.progressBar),e.restoreDefaultBinding()},this.playerLayer.onclick=function(){e.replayVideo(t.progressBar),e.restoreDefaultBinding()},t.isFullscreen&&(document.onkeydown=function(r){var n=r.key||r.keyCode;" "!==n&&32!==n||(e.replayVideo(t.progressBar),e.restoreDefaultBinding())})}},{key:"restoreDefaultBinding",value:function(){var e=this;this.controlPlayButton.onclick=function(){e.playerState.buttonWasClicked()},this.replayButton.onclick=null,this.playerLayer.onclick=function(){e.playerState.buttonWasClicked()},t.isFullscreen&&(document.onkeydown=function(t){var r=t.key||t.keyCode;" "!==r&&32!==r||e.playerState.buttonWasClicked()})}},{key:"playVideo",value:function(){var e="AbortError: The play() request was interrupted by a call to pause().";this.setPlayingSign();var t=this.player.play();t&&t.catch(function(t){return t.toString()===e?void console.log("Abort `play` promise."):void console.log(t)})}},{key:"pauseVideo",value:function(){this.setPausingSign(),this.player.pause()}},{key:"setState",value:function(e){t.playerPlayState=e,this.playerState=e}}]),n}(),d=function(){function t(r){_classCallCheck(this,t);var n=50,o=.5,i=28,a=56,s=-4,l=70,u=14;this.normalVolumeState=new c(this),this.muteVolumeState=new f(this),this.player=r,this.volumeButton=e(".YangPlayer-volume-button"),this.volumeUpButton=e(".YangPlayer-volume-up"),this.volumeDownButton=e(".YangPlayer-volume-down"),this.volumeOffButton=e(".YangPlayer-volume-off"),this.volumeChangeRect=e(".YangPlayer-volume-change"),this.volumeNumber=e(".YangPlayer-volume-number"),this.midVolumeBarH=i,this.volumeNumberValue=n,this.realVolumeValue=o,this.volumeBar=e(".YangPlayer-volume-bar"),this.volumeDragButton=e(".YangPlayer-volume-dragButton"),this.currentVolumeReverseBar=e(".YangPlayer-currentVolume-reverseBar"),this.currentVolumeBarH=i,this.mouseYMax=a,this.volumeState=null,this.mousedownFired=!1,this.volumeDragButtonX=s,this.volumeBarHeight=l,this.volumeDragBtnHeight=u}return _createClass(t,[{key:"init",value:function(){var e=this;this.setState(this.normalVolumeState),this.displayVolumeButton(),this.player.volume=this.realVolumeValue,this.controlVolumeButton(),this.volumeButton.onclick=function(){return e.mousedownFired?void(e.mousedownFired=!1):void e.volumeState.buttonWasClicked()},this.volumeChangeRect.onclick=function(){e.mousedownFired=!0}}},{key:"controlVolumeButton",value:function(e){var t=this;if(e)return r.offset({top:e,left:this.volumeDragButtonX},this.volumeDragButton),void(this.currentVolumeReverseBar.style.height=e/this.volumeBarHeight*100+"%");var n=function(){t.mousedownFired=!0},o=function(e){t.currentVolumeReverseBar.style.height=r.getOffsetTop(t.volumeDragButton)/t.volumeBarHeight*100+"%",t.currentVolumeBarH=t.volumeBarHeight-e-t.volumeDragBtnHeight,t.changeVolume(t.currentVolumeBarH)},i={orientation:"v",fixedOffset:this.volumeDragButtonX,mouseMaxOffset:this.mouseYMax,dragBtn:this.volumeDragButton,slidebar:this.volumeBar,mousedownCb:n,mousemoveCb:o,context:this};r.sliderDragBtn(i)}},{key:"changeVolume",value:function(e){this.volumeNumberValue=Number.parseInt(e/this.mouseYMax*100),this.realVolumeValue=(e/this.mouseYMax).toFixed(2),this.volumeNumber.innerHTML=this.volumeNumberValue,this.player.volume=this.realVolumeValue}},{key:"displayVolumeButton",value:function(e){var t=this;if(e){if("normal"===e)return void this.displayWhichVolumeBtn("up");if("mute"===e)return void this.displayWhichVolumeBtn("off")}this.volumeButton.onmouseover=function(){t.volumeChangeRect.style.cssText+="visibility: visible; opacity: 1;",t.volumeButton.style.backgroundColor="#ccc",t.volumeChangeRect.onmousemove=function(){return 0===t.volumeNumberValue?void t.displayWhichVolumeBtn("off"):t.volumeNumberValue>0&&t.volumeNumberValue<50?void t.displayWhichVolumeBtn("down"):void t.displayWhichVolumeBtn("up")}},this.volumeButton.onmouseout=function(){t.volumeChangeRect.style.cssText+="visibility: hidden; opacity: 0;",t.volumeButton.style.backgroundColor="#eee"}}},{key:"displayWhichVolumeBtn",value:function(e){"down"===e?(this.volumeUpButton.style.display="none",this.volumeOffButton.style.display="none",this.volumeDownButton.style.display="inline-block"):"up"===e?(this.volumeDownButton.style.display="none",this.volumeOffButton.style.display="none",this.volumeUpButton.style.display="inline-block"):"off"===e&&(this.volumeDownButton.style.display="none",this.volumeUpButton.style.display="none",this.volumeOffButton.style.display="inline-block")}},{key:"normalVolume",value:function(){this.changeVolume(this.midVolumeBarH),this.controlVolumeButton(this.midVolumeBarH),this.displayVolumeButton("normal"),this.setState(this.normalVolumeState)}},{key:"muteVolume",value:function(){this.changeVolume(0),this.controlVolumeButton(this.mouseYMax),this.displayVolumeButton("mute"),this.setState(this.muteVolumeState)}},{key:"setState",value:function(e){this.volumeState=e}}]),t}(),v=function(){function n(r){var o=this;_classCallCheck(this,n);var i=14,a=-3;t.progressBar=this,this.player=r,this.intervalId=null,this.intervalFunc=null,this.progressBar=e(".YangPlayer-progress"),this.progressPlayedbar=e(".YangPlayer-playedbar"),this.progressBufferedbar=e(".YangPlayer-bufferedbar"),this.playedTime=e(".YangPlayer-played-time"),this.totalTime=e(".YangPlayer-total-time"),this.progressDragButton=e(".YangPlayer-progress-dragButton"),this.progressDragBtnWidth=i,this.progressBarWidth=null,this.progressDragButtonY=a,this.totalTimeDisplay=!0,this.mouseXMax=function(){return o.progressBarWidth-o.progressDragBtnWidth}}return _createClass(n,[{key:"init",value:function(){n.setProgressLength(),this.progressBarWidth=r.outerWidth(this.progressBar),this.progressPlayedbarDisplay(),this.controlProgressButton()}},{key:"forbidEventBinding",value:function(){this.progressDragButton.onmousedown=null}},{key:"controlProgressButton",value:function(e){var n=this;if(e)return r.offset({top:this.progressDragButtonY,left:e},this.progressDragButton),void(this.progressPlayedbar.style.width=(e+this.progressDragBtnWidth/2)/this.progressBarWidth*100+"%");var o=function(){var e=r.getOffsetLeft(n.progressDragButton);n.progressPlayedbar.style.width=e/n.progressBarWidth*100+"%",n.player.paused&&(t.controlPlay.playVideo(),n.intervalId=window.setInterval(n.intervalFunc,1e3)),t.bulletScreen.removeAllBulletScreen(),n.player.currentTime=e*n.player.duration/n.mouseXMax()},i=function(){!t.bulletScreen.intervalId&&t.bulletScreen.bulletScreenStatus&&(t.bulletScreen.ifPauseBulletScreen=!1,t.bulletScreen.intervalId=window.setInterval(t.bulletScreen.intervalFunc,1e3))},a={orientation:"h",fixedOffset:this.progressDragButtonY,mouseMaxOffset:this.mouseXMax,dragBtn:this.progressDragButton,slidebar:this.progressBar,mousemoveCb:o,mouseupCb:i,mouseoutCb:i,context:this};r.sliderDragBtn(a)}},{key:"progressPlayedbarDisplay",value:function(){var e=this;this.player.currentTime=0,this.progressPlayedbar.style.width=0,this.progressBufferedbar.style.width=0;var r=void 0,n=void 0;this.intervalFunc=function(){e.player.duration>0&&(r=Math.floor(e.player.currentTime/e.player.duration*100)+"%",n=e.player.currentTime*e.mouseXMax()/e.player.duration,e.progressPlayedbar.style.width=r,e.progressTimeDisplay(e.player.currentTime,e.player.duration),e.controlProgressButton(n)),t.controlPlay.listenAll(),e.player.ended&&(t.controlPlay.setReplayEventBinding(),window.clearInterval(e.intervalId),e.intervalId=null),e.progressBufferedDisplay()},this.intervalId=window.setInterval(this.intervalFunc,1e3)}},{key:"progressBufferedDisplay",value:function(){if(this.player.buffered.length>0){var e=Math.floor(this.player.buffered.end(0)/this.player.duration*100)+"%";this.progressBufferedbar.style.width=e}}},{key:"progressTimeDisplay",value:function(e,t){var r=void 0,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=(i=Math.floor(e/3600))<10?"0"+i:i,u=(a=Math.floor(e%3600/60))<10?"0"+a:a,c=(s=Math.floor(e%3600%60))<10?"0"+s:s;if(this.totalTimeDisplay){this.totalTimeDisplay=!1;var f=(r=Math.floor(t/3600))<10?"0"+r:r,p=(n=Math.floor(t%3600/60))<10?"0"+n:n,h=(o=Math.floor(t%3600%60))<10?"0"+o:o;this.totalTime.innerHTML=f+":"+p+":"+h}this.playedTime.innerHTML=l+":"+u+":"+c}}],[{key:"setProgressLength",value:function(){var n=30,o=136,i=30,a=30,s=30,l=30,u=30,c=r.isWhichBrowser("Safari")&&document.webkitIsFullScreen?window.innerWidth:r.outerWidth(e("#YangPlayer")),f=c-(n+o+i+a+s+l+u);t.progressBar.progressBar.style.width=f/c*100+"%"}}]),n}(),g=function(){function n(r){_classCallCheck(this,n);var o=[.5,1,1.5,2,4];this.switchOnState=new p(this),this.switchOffState=new h(this),t.settingBtn=this,this.player=r,this.settingBtn=e(".YangPlayer-setting-button"),this.settingPane=e(".YangPlayer-setting-pane"),this.loopSwitch=e(".YangPlayer-loop-switch"),this.loopSwitchOn=e(".YangPlayer-loop-on"),this.loopSwitchOff=e(".YangPlayer-loop-off"),this.autoSwitch=e(".YangPlayer-auto-switch"),this.autoSwitchOn=e(".YangPlayer-auto-on"),this.autoSwitchOff=e(".YangPlayer-auto-off"),this.rateBtn=e(".YangPlayer-rate-btn"),this.rate=o,this.loopState=null,this.autoState=null}return _createClass(n,[{key:"init",value:function(){var e=this;this.setSwitchState(this.switchOffState,"loop"),this.setSwitchState(this.switchOffState,"auto"),this.displaySettingBtn(),this.loopSwitch.onclick=function(){e.loopState.buttonWasClicked("loop")},this.autoSwitch.onclick=function(){e.autoState.buttonWasClicked("auto")},this.controlPlayRate()}},{key:"forbidEventBinding",value:function(){this.loopSwitch.onclick=null,this.autoSwitch.onclick=null}},{key:"displaySettingBtn",value:function(){var e=this;this.settingBtn.onmouseover=function(){e.settingPane.style.cssText+="opacity: 1; visibility: visible;",e.settingBtn.style.backgroundColor="#ccc"},this.settingBtn.onmouseout=function(){e.settingPane.style.cssText+="opacity: 0; visibility: hidden;",e.settingBtn.style.backgroundColor="#eee"}}},{key:"controlPlayRate",value:function(){var e=this;r.addClass("YangPlayer-opacity-1",this.rateBtn.children[1]);for(var t=function(t){e.rateBtn.children[t].onclick=function(){for(var n=0;n<e.rateBtn.children.length;n++)if(r.hasClass("YangPlayer-opacity-1",e.rateBtn.children[n])){r.removeClass("YangPlayer-opacity-1",e.rateBtn.children[n]),r.addClass("YangPlayer-opacity-1",e.rateBtn.children[t]),e.setPlayRate(e.rate[t]);break}}},n=0;n<this.rateBtn.children.length;n++)t(n)}},{key:"loopPlayOn",value:function(){this.loopSwitchOff.style.display="none",this.loopSwitchOn.style.display="inline-block",this.player.loop=!0,this.setSwitchState(this.switchOnState,"loop")}},{key:"loopPlayOff",value:function(){this.loopSwitchOff.style.display="inline-block",this.loopSwitchOn.style.display="none",this.player.loop=!1,this.setSwitchState(this.switchOffState,"loop")}},{key:"autoPlayOn",value:function(){this.autoSwitchOff.style.display="none",this.autoSwitchOn.style.display="inline-block",this.player.autoplay=!0,this.setSwitchState(this.switchOnState,"auto"),this.player.paused&&(t.controlPlay.playVideo(),t.bulletScreenStatus&&t.bulletScreen.controlContinueBulletScreen())}},{key:"autoPlayOff",value:function(){this.autoSwitchOff.style.display="inline-block",this.autoSwitchOn.style.display="none",this.player.autoplay=!1,this.setSwitchState(this.switchOffState,"auto")}},{key:"setPlayRate",value:function(e){this.player.playbackRate=e}},{key:"setSwitchState",value:function(e,t){if(t){if("loop"===t)return void(this.loopState=e);if("auto"===t)return void(this.autoState=e);throw new Error('second param "switchType" of method "setSwitchState" is incorrect!')}throw new Error('second param "switchType" of method "setSwitchState" is not given!')}}]),n}(),b=function(){function t(){_classCallCheck(this,t),this.turnOffLight=e(".YangPlayer-turnOff-light"),this.light=!0}return _createClass(t,[{key:"init",value:function(){this.controlLight()}},{key:"controlLight",value:function(){var t=this;this.turnOffLight.onclick=function(){if(t.light){t.light=!1;var n=document.createElement("div");r.addClass("YangPlayer-offLight-layer",n),document.body.appendChild(n),e(".YangPlayer-container").style.boxShadow="0 0 5px #fff"}else t.light=!0,document.body.removeChild(e(".YangPlayer-offLight-layer")),e(".YangPlayer-container").style.boxShadow="none"}}}]),t}(),m=function(){function n(t){_classCallCheck(this,n),this.player=t,this.playerContainer=e(".YangPlayer-container"),this.controlBar=e(".YangPlayer-control"),this.screenModeButton=e(".YangPlayer-screen-mode"),this.fullscreenButton=e(".YangPlayer-fullscreen"),this.minscreenButton=e(".YangPlayer-minscreen"),this.fullscreenElement=null,this.isFullscreen=!1,this.fullscreenEnabled=!1}return _createClass(n,[{key:"init",value:function(){var e=this;if(n.getBrowserSupportObj())return this.fullscreenElement=function(){return document[n.getBrowserSupportObj().fullscreenElement]},this.isFullscreen=function(){return t.isFullscreen=Boolean(e.fullscreenElement()),t.isFullscreen},this.fullscreenEnabled=function(){return document[n.getBrowserSupportObj().fullscreenEnabled]},void(this.screenModeButton.onclick=function(){var t=document.mozCancelFullScreen?e.playerContainer:e.player;e.toggle(t),e.onfullscreenchange(v.setProgressLength),window.onresize=v.setProgressLength});throw new Error("Current browser doesn't support Fullscreen API!")}},{key:"onfullscreenchange",value:function(e){var o=this;if(n.getBrowserSupportObj()){var i=n.getBrowserSupportObj().onfullscreenchange,a=function(){e(),o.isFullscreen()?(document.onkeydown=function(e){var r=e.key||e.keyCode;" "!==r&&32!==r||t.playerPlayState.buttonWasClicked()},o.notOverControlBar()):(document.onkeydown=null,o.fullscreenButton.style.display="inline-block",o.minscreenButton.style.display="none",o.controlBar.onmouseover=null,o.controlBar.onmouseout=null,o.controlBar.style.opacity=1);for(var n in t.bulletScreen.userIdCollection)if(!o.player.paused&&t.bulletScreen.bulletScreenStatus){t.bulletScreen.ifPauseBulletScreen=!0,t.bulletScreen.controlContinueBulletScreen();break}t.progressBar.progressBarWidth=r.outerWidth(t.progressBar.progressBar)};return document[i]=a}throw new Error("Current browser doesn't support Fullscreen API!")}},{key:"notOverControlBar",value:function(){var e=this;this.controlBar.onmouseover=function(){e.controlBar.style.opacity=1},this.controlBar.onmouseout=function(){e.controlBar.style.opacity=0}}},{key:"requestFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement;if(n.getBrowserSupportObj()){var t=n.getBrowserSupportObj().requestFullscreen;return this.fullscreenButton.style.display="none",this.minscreenButton.style.display="inline-block",e[t]()}throw new Error("Current browser doesn't support Fullscreen API!")}},{key:"exitFullscreen",value:function(){if(n.getBrowserSupportObj()){var e=n.getBrowserSupportObj().exitFullscreen;return this.fullscreenButton.style.display="inline-block",this.minscreenButton.style.display="none",this.controlBar.onmouseover=null,this.controlBar.onmouseout=null,this.controlBar.style.opacity=1,document[e]()}throw new Error("Current browser doesn't support Fullscreen API!")}},{key:"toggle",value:function(e){return this.isFullscreen()?this.exitFullscreen():this.requestFullscreen(e)}}],[{key:"getBrowserSupportObj",value:function(){for(var e=[["requestFullscreen","exitFullscreen","onfullscreenerror","onfullscreenchange","fullscreenElement","fullscreenEnabled","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","onwebkitfullscreenerror","onwebkitfullscreenchange","webkitFullscreenElement","webkitFullscreenEnabled","webkitIsFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","onmozfullscreenerror","onmozfullscreenchange","mozFullScreenElement","mozFullScreenEnabled","mozFullScreen"],["msRequestFullscreen","msExitFullscreen","onmsfullscreenerror","onmsfullscreenchange","msFullscreenElement","msFullscreenEnabled",null]],t={},r=0;r<e.length;r++){var n=e[r];if(n[1]in document){for(var o=0;o<n.length;o++)t[e[0][o]]=n[o];return t}}return!1}}]),n}(),w=function(){function n(r){_classCallCheck(this,n);var o=["1em","1.5em","2em"],i=["top","move"],a=5/984,s=37,l=10;t.bulletScreen=this,this.player=r,this.intervalId=null,this.intervalFunc=null,this.bulletScreenPool=e(".YangPlayer-bulletScreen-pool"),this.bulletScrenRect=e(".YangPlayer-bullet-screen"),this.colorBox=e(".YangPlayer-color-box"),this.colorPane=e(".YangPlayer-color-pane"),this.colorValue=e(".YangPlayer-color-value"),this.slider=e("#slider"),this.picker=e("#picker"),this.modePane=e(".YangPlayer-mode-pane"),this.bulletScreenText=e(".YangPlayer-bulletScreen-text"),this.bulletScreenSend=e(".YangPlayer-bulletScreen-send"),this.bulletScreenColor=e(".YangPlayer-bulletScreen-color"),this.bulletScreenMode=e(".YangPlayer-bulletScreen-mode"),this.bulletScreenSwitch=e(".YangPlayer-bulletScreen-switch"),this.bulletScreenOn=e(".YangPlayer-bulletScreen-on"),this.bulletScreenOff=e(".YangPlayer-bulletScreen-off"),this.fontBtn=e(".YangPlayer-font-btn"),this.styleBtn=e(".YangPlayer-style-btn"),this.fontSize=o,this.bulletScreenStyle=i,this.transitionRateScale=a,this.baseAddHeight=s,this.bulletScreenSpace=l,this.sendData={url:null,userId:"",fontSize:"1.5em",mode:"move",color:"#fff",message:"",playTime:0,date:""},this.timeoutIdCollection={},this.timeoutId=null,this.userIdCollection={},this.ifPauseBulletScreen=null,this.bulletScreenStatus=!0,this.modePaneDisplay=!1,this.colorBoxDisplay=!1}return _createClass(n,[{key:"init",value:function(e){var t=this;this.ifPauseBulletScreen=!this.player.autoplay,this.controlBulletScreenSwitch(),this.sendData.url=e,this.setColorPicker(),this.setModePane(),this.bulletScreenStatus&&this.ajax(this.sendData),this.sendBulletScreen(),this.bulletScrenRect.onmouseover=function(){t.bulletScrenRect.style.opacity=1},this.bulletScrenRect.onmouseout=function(){t.bulletScrenRect.style.opacity=0},this.bulletScrenRect.onkeydown=function(e){e.stopPropagation()}}},{key:"controlBulletScreenSwitch",value:function(){var e=this;this.bulletScreenOn.onclick=function(){e.bulletScreenStatus=!0,e.bulletScreenOn.style.display="none",e.bulletScreenOff.style.display="inline-block",e.sendData.message="",e.ajax(e.sendData),e.sendBulletScreen()},this.bulletScreenOff.onclick=function(){e.bulletScreenStatus=!1,e.bulletScreenOn.style.display="inline-block",e.bulletScreenOff.style.display="none",e.removeAllBulletScreen()}}},{key:"forbidEventBinding",value:function(){this.bulletScreenOn.onclick=null,this.bulletScreenOff.onclick=null}},{key:"setColorPicker",value:function(){var e=this;this.bulletScreenColor.onclick=function(){e.colorBoxDisplay?(e.colorBoxDisplay=!1,e.colorBox.style.cssText+="visibility: hidden; opacity: 0"):(e.colorBoxDisplay=!0,e.modePaneDisplay=!1,e.colorBox.style.cssText+="visibility: visible; opacity: 1",e.modePane.style.cssText+="visibility: hidden; opacity: 0")},this.colorBox.onclick=function(e){e.stopPropagation()},ColorPicker(this.slider,this.picker,function(t){e.colorValue.value=t.match(/#([0-9a-zA-Z]+)/)[1],e.colorPane.style.backgroundColor=t,e.sendData.color=t}),this.colorValue.oninput=function(){var t="#"+e.colorValue.value.match(/([0-9a-zA-Z]+)/)[1];e.colorPane.style.backgroundColor=t,e.sendData.color=t}}},{key:"setModePane",value:function(){var e=this;this.bulletScreenMode.onclick=function(){e.modePaneDisplay?(e.modePaneDisplay=!1,e.modePane.style.cssText+="visibility: hidden; opacity: 0"):(e.modePaneDisplay=!0,e.colorBoxDisplay=!1,e.modePane.style.cssText+="visibility: visible; opacity: 1",e.colorBox.style.cssText+="visibility: hidden; opacity: 0")},this.modePane.onclick=function(e){e.stopPropagation()},this.setFontSize(),this.setMode()}},{key:"renderTopBulletScreen",value:function(e){var t=this;r.addClass("YangPlayer-bulletScreen-top",e),this.bulletScreenPool.appendChild(e),e.style.marginLeft="-"+r.outerWidth(e)/2+"px",this.player.paused||(this.timeoutId=window.setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e);for(var r in t.userIdCollection)if(r===e.getAttribute("data-id")){delete t.userIdCollection[r],delete t.timeoutIdCollection[r];break}},3e3),this.timeoutIdCollection[e.getAttribute("data-id")]=this.timeoutId)}},{key:"renderMovingBulletScreen",value:function(e){r.addClass("YangPlayer-bulletScreen-move",e),this.bulletScreenPool.appendChild(e),e.style.right="-"+r.outerWidth(e)+"px"}},{key:"controlPauseBulletScreen",value:function(){for(var e in this.timeoutIdCollection)window.clearTimeout(this.timeoutIdCollection[e]),delete this.timeoutIdCollection[e];if(!this.ifPauseBulletScreen)for(var t in this.userIdCollection)if(this.ifPauseBulletScreen=!0,r.hasClass("YangPlayer-bulletScreen-move",this.userIdCollection[t])){var n=void 0;if(r.isWhichBrowser("Safari")){var o=r.getOffsetAndLength(this.userIdCollection[t]);n=-Number.parseInt(window.getComputedStyle(this.userIdCollection[t]).right)+o.parentWidth-o.offsetLeft-o.width}else n=Number.parseInt(window.getComputedStyle(this.userIdCollection[t]).left)-r.getOffsetLeft(this.userIdCollection[t]);this.userIdCollection[t].style.cssText+="transition: transform 0s linear; transform: translateX(-"+n+"px);"}}},{key:"controlContinueBulletScreen",value:function(){var e=this;if(this.ifPauseBulletScreen){var t=function(t){if(e.ifPauseBulletScreen=!1,r.hasClass("YangPlayer-bulletScreen-move",e.userIdCollection[t])){var n=r.getOffsetAndLength(e.userIdCollection[t]),o=(n.offsetLeft+n.width+e.bulletScreenSpace)*e.transitionRateScale,i=void 0;i=r.isWhichBrowser("Safari")?-Number.parseInt(window.getComputedStyle(e.userIdCollection[t]).right)+n.parentWidth+e.bulletScreenSpace:Number.parseInt(window.getComputedStyle(e.userIdCollection[t]).left)+n.width+e.bulletScreenSpace,e.userIdCollection[t].style.cssText+="transition: transform "+o+"s linear; transform: translateX(-"+i+"px)"}if(r.hasClass("YangPlayer-bulletScreen-top",e.userIdCollection[t])){var a=function(){e.userIdCollection[t]&&e.userIdCollection[t].parentNode.removeChild(e.userIdCollection[t]),delete e.userIdCollection[t],delete e.timeoutIdCollection[t]};e.timeoutId=window.setTimeout(a,1e3),e.timeoutIdCollection[t]=e.timeoutId}};for(var n in this.userIdCollection)t(n)}}},{key:"removeMovingBulletScreen",value:function(){var e=void 0,t=void 0;for(var n in this.userIdCollection)e=r.getOffsetAndLength(this.userIdCollection[n]),t=r.hasClass("YangPlayer-bulletScreen-move",this.userIdCollection[n])&&e.offsetRight>=e.parentWidth,
t&&(this.userIdCollection[n].parentNode.removeChild(this.userIdCollection[n]),delete this.userIdCollection[n])}},{key:"removeAllBulletScreen",value:function(){window.clearInterval(this.intervalId),this.intervalId=null;for(var e in this.userIdCollection)this.userIdCollection[e].parentNode.removeChild(this.userIdCollection[e]),window.clearTimeout(this.timeoutIdCollection[e]),delete this.userIdCollection[e],delete this.timeoutIdCollection[e]}},{key:"renderBulletScreen",value:function(e){var t=this,r=void 0,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;this.intervalFunc=function(){for(var f=0;f<e.length;f++)r=Number.parseInt(e[f].playTime),n=Number.parseInt(t.player.currentTime),o=e[f].userId,i=r===n&&!t.userIdCollection.hasOwnProperty(o),i&&(a=e[f].fontSize,s=e[f].mode,l=e[f].color,u=e[f].message,c=document.createElement("div"),c.innerHTML=u,c.style.cssText+="font-size: "+a+"; color: "+l,c.setAttribute("data-id",o),t.userIdCollection[o]=c,"top"===s&&t.renderTopBulletScreen(c),"move"===s&&t.renderMovingBulletScreen(c),t.correctDistance(c,s,o));t.removeMovingBulletScreen()},this.intervalId=this.intervalId?window.clearInterval(this.intervalId)&&window.setInterval(this.intervalFunc,1e3):window.setInterval(this.intervalFunc,1e3)}},{key:"correctDistance",value:function(e,t,n){for(var o=0,i=null,a=this.bulletScreenPool.children,s=r.getOffsetAndLength(e),l=null,u=0;u<a.length;u++){var c=a[u].className.match(/.*YangPlayer-bulletScreen-([a-zA-Z]+).*/)[1],f=a[u].getAttribute("data-id");if(f===n)break;"top"===c?o++:"move"===c&&(i=a[u])}if("top"===t)e.style.transform="translateY("+o*this.baseAddHeight+"px)";else if("move"===t){l=i&&r.getOffsetAndLength(i);var p=i&&l.offsetRight-s.offsetRight<=s.width;if(p){var h=l.offsetRight-s.width-this.bulletScreenSpace;e.style.cssText+="right: "+h+"px; top: "+l.offsetTop+"px",s=r.getOffsetAndLength(e)}if(Math.abs(s.offsetRight)>s.parentWidth){var y=l.offsetTop+l.height;e.style.cssText+="right: -"+s.width+"px; top: "+y+"px",s=r.getOffsetAndLength(e)}if(!this.player.paused){var d=s.offsetLeft+s.width+this.bulletScreenSpace,v=d*this.transitionRateScale;e.style.cssText+="transition: transform "+v+"s linear; transform: translateX(-"+d+"px)"}}}},{key:"failSend",value:function(){console.log("sending bullet screens fail.")}},{key:"firstSendRender",value:function(e){this.bulletScreenText.value="";var t=e.userId,r=e.fontSize,n=e.mode,o=e.color,i=e.message,a=document.createElement("div"),s=document.createTextNode(i);a.appendChild(s),a.style.cssText+="font-size: "+r+"; color: "+o+"; border: 1px solid #fff; padding: 1px",a.setAttribute("data-id",t),this.userIdCollection[t]=a,"top"===n&&this.renderTopBulletScreen(a),"move"===n&&this.renderMovingBulletScreen(a),this.correctDistance(a,n,t)}},{key:"sendBulletScreen",value:function(){var e=this;this.bulletScreenSend.onclick=function(){if(e.bulletScreenStatus){var t=e.bulletScreenText.value.trim(),r=(new Date).toLocaleString();t&&(e.sendData.message=t,e.setPlayTime(e.player.currentTime),e.sendData.date=r,e.setUserId(),e.firstSendRender(e.sendData),e.ajax(e.sendData,e.renderBulletScreen,e.failSend))}}}},{key:"setFontSize",value:function(){var e=this;r.addClass("YangPlayer-opacity-1",this.fontBtn.children[1]);for(var t=function(t){e.fontBtn.children[t].onclick=function(){for(var n=0;n<e.fontBtn.children.length;n++)if(r.hasClass("YangPlayer-opacity-1",e.fontBtn.children[n])){r.removeClass("YangPlayer-opacity-1",e.fontBtn.children[n]),r.addClass("YangPlayer-opacity-1",e.fontBtn.children[t]),e.sendData.fontSize=e.fontSize[t];break}}},n=0;n<this.fontBtn.children.length;n++)t(n)}},{key:"setUserId",value:function(){this.sendData.userId=String(Date.now())}},{key:"setMode",value:function(){var e=this;r.addClass("YangPlayer-opacity-1",this.styleBtn.children[1]);for(var t=function(t){e.styleBtn.children[t].onclick=function(){for(var n=0;n<e.styleBtn.children.length;n++)if(r.hasClass("YangPlayer-opacity-1",e.styleBtn.children[n])){r.removeClass("YangPlayer-opacity-1",e.styleBtn.children[n]),r.addClass("YangPlayer-opacity-1",e.styleBtn.children[t]),e.sendData.mode=e.bulletScreenStyle[t];break}}},n=0;n<this.styleBtn.children.length;n++)t(n)}},{key:"setPlayTime",value:function(e){this.sendData.playTime=Number.parseInt(e),0===this.sendData.playTime&&"top"===this.sendData.mode&&(this.sendData.playTime+=1)}},{key:"ajax",value:function(e){var t=this,r=new XMLHttpRequest,n=e.url;if(e.fontSize&&e.userId&&e.mode&&e.color&&e.message&&e.date){var o=new FormData;o.append("fontSize",e.fontSize),o.append("userId",e.userId),o.append("mode",e.mode),o.append("color",e.color),o.append("message",e.message),o.append("playTime",e.playTime),o.append("date",e.date),r.open("post",n,!0),r.send(o)}else r.open("get",n,!0),r.send();r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);e.sendSuccess?t.renderBulletScreen(e.bulletScreenContent):t.failSend()}}}}]),n}(),S=function(){function t(){_classCallCheck(this,t),this.YangPlayer=e("#YangPlayer"),this.controlPlay=null,this.progressBar=null,this.volumeButton=null,this.settingButton=null,this.screenMode=null,this.bulletScreen=null}return _createClass(t,[{key:"init",value:function(){this.controlPlay=new y(this.YangPlayer),this.controlPlay.init(),this.progressBar=new v(this.YangPlayer),this.progressBar.init(),this.volumeButton=new d(this.YangPlayer),this.volumeButton.init(),this.settingButton=new g(this.YangPlayer),this.settingButton.init(),this.offLight=new b,this.offLight.init(),this.screenMode=new m(this.YangPlayer),this.screenMode.init(),this.bulletScreen=new w(this.YangPlayer),this.bulletScreen.init("http://localhost/~yangshao/bulletScreen.php")}}]),t}(),C=new S;C.init()}();